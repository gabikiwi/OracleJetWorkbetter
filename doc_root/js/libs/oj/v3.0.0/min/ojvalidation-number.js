/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojL10n!ojtranslations/nls/localeElements","ojs/ojvalidation-base"],function(a){a.wm=function(){this.Init()};o_("NumberConverter",a.wm,a);a.f.xa(a.wm,a.ol,"oj.NumberConverter");a.wm.prototype.Init=function(c){a.wm.O.Init.call(this,c)};a.f.j("NumberConverter.prototype.Init",{Init:a.wm.prototype.Init});a.wm.prototype.format=function(c){return a.wm.O.format.call(this,c)};a.f.j("NumberConverter.prototype.format",{format:a.wm.prototype.format});a.wm.prototype.parse=function(c){return a.wm.O.parse.call(this,
c)};a.f.j("NumberConverter.prototype.parse",{parse:a.wm.prototype.parse});a.mp=function(a){this.Init(a)};o_("NumberRangeValidator",a.mp,a);a.f.xa(a.mp,a.Wn,"oj.NumberRangeValidator");a.mp.prototype.Init=function(c){a.mp.O.Init.call(this);c&&(this.Cj=c.min,this.Gk=c.max,this.ed=a.Ua.qI(c.converter),this.nG=c.hint||{},this.zF=c.messageSummary||{},this.yF=c.messageDetail||{})};a.f.j("NumberRangeValidator.prototype.Init",{Init:a.mp.prototype.Init});a.mp.prototype.validate=function(c){var b=c?c.toString():
c,d=parseFloat(b),e=this.zF,f=this.yF,h=f.rangeOverflow,k=f.rangeUnderflow,f=f.exact,g=e.rangeOverflow,e=e.rangeUnderflow,m=void 0!==this.Cj?parseFloat(this.Cj):null,p=void 0!==this.Gk?parseFloat(this.Gk):null,t=m&&this.ed?this.ed.format(m):m,r=p&&this.ed?this.ed.format(p):p,n="",s="",q=null,u=a.ya;if(null===c)return c;if(null!==m&&null!==p){if(d>=m&&d<=p||m>p)return b}else if(null!==m){if(d>=m)return b}else if(null===p||d<=p)return b;null!==p&&null!==m&&m===p?(q={value:c,num:r},s=f?u.Qc(f,q):u.R("oj-validator.range.number.messageDetail.exact",
q),d>p?n=g?g:u.R("oj-validator.range.number.messageSummary.rangeOverflow"):d<m&&(n=g?e:u.R("oj-validator.range.number.messageSummary.rangeUnderflow"))):null!==p&&d>p?(q={value:c,max:r},n=g?g:u.R("oj-validator.range.number.messageSummary.rangeOverflow"),s=h?u.Qc(h,q):u.R("oj-validator.range.number.messageDetail.rangeOverflow",q)):null!==m&&d<m&&(q={value:c,min:t},n=e?e:u.R("oj-validator.range.number.messageSummary.rangeUnderflow"),s=k?u.Qc(k,q):u.R("oj-validator.range.number.messageDetail.rangeUnderflow",
q));throw new a.Dl(n,s);};a.f.j("NumberRangeValidator.prototype.validate",{validate:a.mp.prototype.validate});a.mp.prototype.Le=function(){var c=null,b=this.nG,d=b.inRange,e=b.exact,f=b.min,b=b.max,h=a.ya,k=void 0!==this.Cj?parseFloat(this.Cj):null,g=void 0!==this.Gk?parseFloat(this.Gk):null,m=k&&this.ed?this.ed.format(k):k,p=g&&this.ed?this.ed.format(g):g;null!==k&&null!==g?c=k!==g?d?h.Qc(d,{min:m,max:p}):h.R("oj-validator.range.number.hint.inRange",{min:m,max:p}):e?h.Qc(e,{num:m}):h.R("oj-validator.range.number.hint.exact",
{num:m}):null!==k?c=f?h.Qc(f,{min:m}):h.R("oj-validator.range.number.hint.min",{min:m}):null!==g&&(c=b?h.Qc(b,{max:p}):h.R("oj-validator.range.number.hint.max",{max:p}));return c};a.f.j("NumberRangeValidator.prototype.getHint",{Le:a.mp.prototype.Le});a.pg=function(a){this.Init(a)};o_("IntlNumberConverter",a.pg,a);a.f.xa(a.pg,a.wm,"oj.IntlNumberConverter");a.pg.prototype.Init=function(c){a.pg.O.Init.call(this,c)};a.f.j("IntlNumberConverter.prototype.Init",{Init:a.pg.prototype.Init});a.pg.prototype.bq=
function(){this.bI||(this.bI=g.jc());return this.bI};a.pg.prototype.format=function(c){var b,d,e;if(null==c||"string"===typeof c&&0===a.Ra.trim(""+c).length||"number"===typeof c&&isNaN(c))return"";b=a.qa.Nj();d=a.pb.Im();e=this.resolvedOptions();try{return this.bq().format(c,d,e,b)}catch(f){throw c=this.Uu(f,c),c;}};a.f.j("IntlNumberConverter.prototype.format",{format:a.pg.prototype.format});a.pg.prototype.Le=function(){return null};a.f.j("IntlNumberConverter.prototype.getHint",{Le:a.pg.prototype.Le});
a.pg.prototype.Zk=function(){return a.pg.O.Zk.call(this)};a.f.j("IntlNumberConverter.prototype.getOptions",{Zk:a.pg.prototype.Zk});a.pg.prototype.parse=function(c){var b,d,e;if(null==c||""===c)return null;b=a.qa.Nj();d=a.pb.Im();e=this.resolvedOptions();try{return this.bq().parse(a.Ra.trim(c),d,e,b)}catch(f){throw c=this.Uu(f,c),c;}};a.f.j("IntlNumberConverter.prototype.parse",{parse:a.pg.prototype.parse});a.pg.prototype.resolvedOptions=function(){var c;c=a.qa.Nj();var b;if(c!==this.MB||!this.tH){b=
a.pb.Im();try{if(!b)return a.F.error("locale bundle for the current locale %s is unavailable",c),{};this.tH=this.bq().resolvedOptions(b,this.Zk(),c);this.MB=c}catch(d){throw c=this.Uu(d),c;}}return this.tH};a.f.j("IntlNumberConverter.prototype.resolvedOptions",{resolvedOptions:a.pg.prototype.resolvedOptions});a.pg.prototype.Uu=function(c,b){var d,e,f=c.errorInfo,h;if(f){e=f.errorCode;f=f.parameterMap;a.u.Si(f);switch(e){case "optionTypesMismatch":case "optionTypeInvalid":d=a.Ua.KA(e,f);break;case "optionOutOfRange":d=
a.Ua.KA(e,f);break;case "optionValueInvalid":d=a.Ua.KA(e,f);break;case "decimalFormatMismatch":h="oj-converter.number.decimalFormatMismatch.summary";break;case "currencyFormatMismatch":h="oj-converter.number.currencyFormatMismatch.summary";break;case "percentFormatMismatch":h="oj-converter.number.percentFormatMismatch.summary";break;case "unsupportedParseFormat":e=a.ya.R("oj-converter.number.decimalFormatUnsupportedParse.summary"),d=a.ya.R("oj-converter.number.decimalFormatUnsupportedParse.detail"),
d=new a.Rf(e,d)}h&&(e=a.ya.R(h,{value:b||f.value,format:f.format}),d=a.ya.R("oj-converter.hint.detail",{exampleValue:this.dN()}),d=new a.Rf(e,d))}d||(d=e=c.message,d=new a.Rf(e,d));return d};a.pg.prototype.dN=function(){var c="";try{c=this.format(12345.98765)}catch(b){b instanceof a.Rf&&(c="",a.F.error("error retrieving hint value in format"))}finally{return c}};a.bsa=function(){return{createConverter:function(c){return new a.pg(c)}}}();a.La.ZU(a.Mh.CONVERTER_TYPE_NUMBER,a.bsa);a.csa=function(){return{createValidator:function(c){return new a.mp(c)}}}();
a.La.MA(a.Af.VALIDATOR_TYPE_NUMBERRANGE,a.csa);var g;g=function(){function c(){return{format:function(a,b,c,e){if(2>=arguments.length||void 0===c)c={useGrouping:!0,style:"decimal"};n(c,"OraNumberConverter.format");var h={};r(b,h,c,e);return d(a,c,b,h,e)},parse:function(a,b,c,d){if("number"===typeof a)return a;if("[object Number]"===Object.prototype.toString.call(a))return Number(a);if(2>=arguments.length||void 0===c)c={useGrouping:!0,style:"decimal"};n(c,"OraNumberConverter.parse");return e(a,b,c,
d)},resolvedOptions:function(b,c,d){if(3>arguments.length||void 0===d)d=a.N.zv(b);if(2>arguments.length||void 0===c)c={useGrouping:!0,style:"decimal"};var e=R(b,c,d);return V(e,c,d)}}}var b,d,e,f,h,k,g,m,p,t,r,n,s,q,u,v,w,x,y,z,A,D,B,J,F,K,C,I,E,N,L,O,P,R,V,Z=/^[+\-]?infinity$/i,fa=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,ca=/([^+-.0-9]*)([+\-]?\d*\.?\d*(E[+\-]?\d+)?).*$/,S=/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,ga=/(^0\.0*)([^0].*$)/,U={trillion:[1E14,1E13,1E12],billion:[1E11,1E10,1E9],million:[1E8,1E7,1E6],
thousand:[1E5,1E4,1E3]},ia={trillion:1E12,billion:1E9,million:1E6,thousand:1E3},aa={HALF_UP:"ceil",HALF_DOWN:"floor",DEFAULT:"round"};b=function(a,b,c){var d;for(d=a.length;d<b;d+=1)a=c?"0"+a:a+"0";return a};w=function(a,b,c,d){var e=new RangeError(a+" is out of range.  Enter a value between "+b+" and "+c+" for "+d);e.errorInfo={errorCode:"numberOptionOutOfRange",parameterMap:{value:a,minValue:b,maxValue:c,propertyName:d}};throw e;};A=function(a,b,c,d,e){a=a[b];return void 0!==a?(a=Number(a),(isNaN(a)||
a<c||a>d)&&w(a,c,d,b),Math.floor(a)):e};u=function(a,b){if(void 0===b)return"latn";var c=D(b);void 0===a.numbers["symbols-numberSystem-"+c]&&(c="latn");return c};v=function(a){return a.split("-")[0]};D=function(a){a=a||"en-US";var b=a.indexOf("-u-nu-"),c="latn";-1!==b&&(c=a.substr(b+6,4));return c};r=function(b,c,d,e){var h=a.N.gh(b);e=u(h,e);c.numberingSystemKey=e;c.numberingSystem="symbols-numberSystem-"+e;c.lenientParse=d.lenientParse||"full";if(void 0!==d.pattern&&0<d.pattern.length)e=d.pattern;
else{switch(d.style){case "decimal":e="decimalFormats-numberSystem-";break;case "currency":e="currencyFormats-numberSystem-";break;case "percent":e="percentFormats-numberSystem-";break;default:e="decimalFormats-numberSystem-"}e+=c.numberingSystemKey;e=h.numbers[e].standard;var f=d.decimalFormat;void 0!==f&&"decimal"===d.style&&(c.shortDecimalFormat=h.numbers["decimalFormats-numberSystem-latn"][f].decimalFormat)}var f=h.numbers[c.numberingSystem].decimal,k=h.numbers[c.numberingSystem].group,m=d.separators;
if(void 0!==m){c.separators=m;var q=m.decimal,t=m.group;void 0!==q&&""!==q&&(f=m.decimal);void 0!==t&&(k=m.group)}m=v(a.N.zv(b));c.plurals=b.supplemental.plurals;c.lang=m;c.pat=e;c.minusSign=h.numbers[c.numberingSystem].minusSign;c.decimalSeparator=f;c.exponential=h.numbers[c.numberingSystem].exponential;c.groupingSeparator=k;c.currencyDisplay=d.currencyDisplay;void 0!==d.currency&&(c.currencyCode=d.currency.toUpperCase());c.style=d.style;g(d,e,h,c);void 0===d.pattern&&(c.minimumIntegerDigits=A(d,
"minimumIntegerDigits",1,21,c.minimumIntegerDigits),void 0!==d.maximumFractionDigits&&(c.maximumFractionDigits=A(d,"maximumFractionDigits",0,20,c.maximumFractionDigits),c.maximumFractionDigits<c.minimumFractionDigits&&(c.minimumFractionDigits=c.maximumFractionDigits)),void 0!==d.minimumFractionDigits&&(c.minimumFractionDigits=A(d,"minimumFractionDigits",0,20,c.minimumFractionDigits)),c.maximumFractionDigits<c.minimumFractionDigits&&(c.maximumFractionDigits=c.minimumFractionDigits))};q=function(a){var b=
new TypeError('The property "currency" is required whenthe property "'+a+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.');b.errorInfo={errorCode:"optionTypesMismatch",parameterMap:{propertyName:a,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw b;};F=function(){var a;a=Error("long and short decimalFormats are not supported for parsing");a.errorInfo={errorCode:"unsupportedParseFormat",
parameterMap:{value:"decimal"}};throw a;};n=function(b,c){var d=a.N.li(b,c),e=d("style","string",["currency","decimal","percent","perMill"],"decimal");"decimal"===e&&(e=d("decimalFormat","string",["standard","short","long"]),"OraNumberConverter.parse"===c&&void 0!==e&&"standard"!==e&&F());var h=d("currency","string");"currency"===e&&void 0===h&&q("style");d("roundingMode","string",["HALF_UP","HALF_DOWN","HALF_EVEN"],"DEFAULT");d("lenientParse","string",["none","full"],"full")};I=function(a,b,c){function d(a){var b=
0,c=0,e=0,h="";if("0"!==a[0]){for(;"0"!==a[b]&&b<a.length;)b++;h=a.substr(0,b);e=b}for(b=e;b<a.length;b++)if("0"===a[b])c++;else break;return[h,c]}var e=function(a){var b,c,d;for(b in U)for(d=U[b].length,c=0;c<d;c++)if(U[b][c]<=a)return[b,U[b][c]];return[a,null]}(a),h="";if(null!==e[1]){var h=c.plurals[c.lang](Math.floor(a/ia[e[0]])),f=""+e[1]+"-count-"+h,f=c.shortDecimalFormat[f];void 0===f&&(f=""+e[1]+"-count-other",f=c.shortDecimalFormat[f]);var k=d(f),g=k[1],h=k[0];if(g<f.length){var l=1*Math.pow(10,
g),l=e[1]/l*10;a/=l}}e="";void 0!==f&&(e=f.substr(g+k[0].length));a=K(a,b,c);return h+a+e};C=function(a,c){var d=a+"",e=0,h=d.split(/e/i),f=h[0];ga.lastIndex=0;var k=ga.exec(f);null!==k?(e=k[1].length-1,f=k[2]):f=f.replace(".","");var k=1<h.length?parseInt(h[1],10):0,h=parseInt(f,10),g=c.minimumIntegerDigits+c.maximumFractionDigits;f.length>g&&(g-=f.length,h=Math.round(h*Math.pow(10,g)));g=c.minimumIntegerDigits+c.minimumFractionDigits;h=b(h+"",g,!1);k=-1!==d.indexOf(".")?k-(c.minimumIntegerDigits-
d.indexOf(".")+e):k-(g-f.length-c.minimumFractionDigits);d=Math.abs(k);d=b(d+"",c.minExponentDigits,!0);0>k&&(d=c.minusSign+d);e=h.slice(0,c.minimumIntegerDigits);return e=0<h.slice(c.minimumIntegerDigits).length?e+(c.decimalSeparator+h.slice(c.minimumIntegerDigits)+c.exponential+d):e+(c.exponential+d)};K=function(a,c,d){var e=d.groupingSize,h=d.groupingSize0,f=d.decimalSeparator,k,g=(a+"").split(/e/i),l=1<g.length?parseInt(g[1],10):0;k=g[0];var g=k.split("."),m=1<g.length?g[1]:"";if(1<g.length&&
m.length>l){var q=Math.min(d.maximumFractionDigits,m.length-l);a=x(a,q,c.roundingMode||"DEFAULT")}g=(a+"").split(/e/i);l=1<g.length?parseInt(g[1],10):0;k=g[0];g=k.split(".");k=g[0];m=1<g.length?g[1]:"";0<l?(m=b(m,l,!1),k+=m.slice(0,l),m=m.substr(l)):0>l&&(l=-l,k=b(k,l+1,!0),m=k.slice(-l,k.length)+m,k=k.slice(0,-l));m=0<q&&0<m.length?f+(m.length>q?m.slice(0,q):b(m,q,!1)):0<d.minimumFractionDigits?f:"";m=b(m,f.length+d.minimumFractionDigits,!1);a=d.groupingSeparator;f="";!1===c.useGrouping&&void 0===
c.pattern&&(a="");k=b(k,d.minimumIntegerDigits,!0);c=k.length-1;for(m=1<m.length?m:"";0<=c;){if(0===e||e>c)return e=k.slice(0,c+1)+(f.length?a+f+m:m);f=k.slice(c-e+1,c+1)+(f.length?a+f:"");c-=e;0<h&&(e=h)}return e=k.slice(0,c+1)+a+f+m};B=function(a,b,c){if("HALF_DOWN"===c||"HALF_EVEN"===c)a=a.substr(b),a=parseInt(a,10),5<a&&(c="HALF_UP");return c};x=function(a,b,c){var d=a.toString().split(".");if(void 0===d[1])return a;if("5"===d[1][b]&&"DEFAULT"!==c)return c=B(d[1],b,c),c=z(d,c,b),y(a,-b,c,d);b=
Math.pow(10,b);b=Math.round(a*b)/b;return isFinite(b)?b:a};z=function(a,b,c){var d=aa[b];"HALF_EVEN"===b&&(d=0==(0===c?parseInt(a[0][a[0].length-1],10):parseInt(a[1][c-1],10))%2?aa.HALF_DOWN:aa.HALF_UP);return d};y=function(a,b,c,d){if(0===b)return"5"===d[1][0]?Math[c](a):Math.round(a);d=a.toString().split("e");a=d[0];d=d[1];a=a+"e"+(d?parseInt(d,10)-b:-b);a=parseFloat(a);a=Math[c](a);d=a.toString().split("e");a=d[0];d=d[1];a=a+"e"+(d?parseInt(d,10)+b:b);return a=parseFloat(a)};d=function(b,c,d,e,
h){d=a.N.gh(d);if(!isFinite(b))return Infinity===b||-Infinity===b?d.numbers[e.numberingSystem].infinity:d.numbers[e.numberingSystem].nan;d=Math.abs(b);!0===e.isPercent||"percent"===c.style?d*=100:!0===e.isPerMill&&(d*=1E3);d="decimal"===c.style&&void 0!==c.decimalFormat&&"standard"!==c.decimalFormat?I(d,c,e):!0===e.useExponentialNotation?C(d,e):K(d,c,e);c="";c=0>b?c+(e.negativePrefix+d+e.negativeSuffix):c+(e.positivePrefix+d+e.positiveSuffix);b=D(h);void 0===a.N.dr[b]&&(b="latn");if("latn"!==b){h=
[];for(e=0;e<c.length;e++)"0"<=c[e]&&"9">=c[e]?h.push(a.N.dr[b][c[e]]):h.push(c[e]);return h.join("")}return c};m=function(b,c,d,e){var h,f=a.N.lr(b),g="",l=!1,m=new RegExp("^"+e.numbers[d.numberingSystem].plusSign.replace(S,"\\$1")),f=f.replace(m,""),q=a.N.lr(d.positivePrefix),t=a.N.lr(d.positiveSuffix),r=a.N.lr(d.negativePrefix),m=a.N.lr(d.negativeSuffix),s=new RegExp("^"+(q||"").replace(S,"\\$1")),n=new RegExp((t||"").replace(S,"\\$1")+"$"),u=new RegExp("^"+(r||"").replace(S,"\\$1")),B=new RegExp((m||
"").replace(S,"\\$1")+"$");if(!0===u.test(f)&&!0===B.test(f))f=f.replace(u,""),f=f.replace(B,""),g="-",l=!0;else if(!0===s.test(f)&&!0===n.test(f))f=f.replace(s,""),f=f.replace(n,""),g="+",l=!0;else if("currency"===c.style){var n=s=d.currencyCode,D;void 0!==e.numbers.currencies[s]&&(n=e.numbers.currencies[s].symbol);void 0===d.currencyDisplay||"symbol"===d.currencyDisplay?D=n:"code"===d.currencyDisplay&&(D=s);void 0!==D&&(e=(q||"").replace(D,""),t=(t||"").replace(D,""),r=(r||"").replace(D,""),D=(m||
"").replace(D,""),s=new RegExp(("^"+e).replace(S,"\\$1")),n=new RegExp(t.replace(S,"\\$1")+"$"),u=new RegExp(("^"+r).replace(S,"\\$1")),B=new RegExp(D.replace(S,"\\$1")+"$"),!0===u.test(f)&&!0===B.test(f)?(f=f.replace(u,""),f=f.replace(B,""),g="-",l=!0):!0===s.test(f)&&!0===n.test(f)&&(f=f.replace(s,""),f=f.replace(n,""),g="+",l=!0))}l?h=[g,f]:"full"===d.lenientParse?(h=p(f,d),h[2]=!0):k(c.style,d,b);return h};p=function(b,c){var d=c.groupingSeparator,e=c.decimalSeparator,h=c.minusSign,f="",k="",
g=a.N.dk(c.exponential);b=a.N.dk(b);b=b.split(g).join("E");b=b.split(d).join("");g=d.replace(/\u00A0/g," ");d!==g&&(b=b.split(g).join(""));b=b.split(e).join(".");"."===b.charAt(0)&&(b=b.substr(1),k=".");b=b.replace(h,"-");d=ca.exec(b);k+=d[2];a.N.Hz(k,"-")?(k=k.substr(1),f="-"):a.N.Hz(b,"+")&&(k=k.substr(1),f="+");return[f,k]};t=function(b,c){var d=c.minusSign,e=c.plusSign,h;b=a.N.lr(b);d=a.N.lr(d);e=a.N.lr(e);a.N.Hz(b,d)?h=["-",b.substr(d.length)]:a.N.Hz(b,a.N.lr(e))&&(h=["+",b.substr(e.length)]);
return h||["",b]};f=function(b,c){var d=D(c);if(void 0===a.N.dr[d])return b;var e,h=[];for(e=0;e<b.length;e++){var f=a.N.dr[d].indexOf(b[e]);-1!==f?h.push(f):h.push(b[e])}return h.join("")};h=function(b,c){var d={},e=c.decimalSeparator,h=c.groupingSeparator;b=b.replace(/ /g,"");var f=c.exponential,k,g=b.indexOf(f.toLowerCase());0>g&&(g=b.indexOf(a.N.dk(f)));0>g?(k=b,d.exponent=null):(k=b.substr(0,g),d.exponent=b.substr(g+f.length));g=k.indexOf(e);0>g?(f=k,d.fraction=null):(f=k.substr(0,g),d.fraction=
k.substr(g+e.length));f=f.split(h).join("");e=h.replace(/\u00A0/g," ");h!==e&&(f=f.split(e).join(""));d.integer=f;return d};J=function(b,c,d,e){isNaN(b)&&k(c.style,d,e);!0===d.isPercent||"percent"===c.style?b/=100:!0===d.isPerMill&&(b/=1E3);a.N.li(c,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(b=s(b,d,c));return b};k=function(a,b,c){var d,e;d="Unparsable number "+c+" The expected number pattern is "+b.pat;switch(a){case "decimal":e="decimalFormatMismatch";break;case "currency":e=
"currencyFormatMismatch";break;case "percent":e="percentFormatMismatch"}a=Error(d);a.errorInfo={errorCode:e,parameterMap:{value:c,format:b.pat}};throw a;};e=function(b,c,d,e){var g=a.N.gh(c),l={},q=f(b,e);r(c,l,d,e);c=NaN;e=q.replace(/ /g,"");if(Z.test(e))return c=parseFloat(q);e=m(q,d,l,g);var g=e[0],s=e[1],g=g||"+";if(e[2])return c=parseFloat(g+s),J(c,d,l,b);var n=h(s,l);e=n.fraction;s=n.exponent;g+=n.integer;null!==e&&(g+="."+e);null!==s&&(e=t(s,l),g+="e"+(e[0]||"+")+e[1]);fa.test(g)?c=parseFloat(g):
"full"===l.lenientParse?(g=p(q,l),c=parseFloat(g[0]+g[1])):k(d.style,l,b);return J(c,d,l,b)};var ba,W,G,H;P=function(a){var b;b=new SyntaxError('Unexpected character(s) encountered in the pattern "'+a+' An example of a valid pattern is "#,##0.###".');b.errorInfo={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:a,propertyValueHint:"#,##0.###"}};throw b;};N=function(a,b,c){return null!==(new RegExp(c,"i")).exec(a.substr(b,c.length))};O=function(a,b){var c={};null!==
ba&&(b.positivePrefix=L(ba,a,b,c));null!==W&&(b.positiveSuffix=L(W,a,b,c));null!==G&&(b.negativePrefix=L(G,a,b,c));null!==H&&(b.negativeSuffix=L(H,a,b,c));void 0!==c.name&&(b.positiveSuffix="\u00a0"+c.name,b.positivePrefix="","ar"===b.lang?(b.negativeSuffix=a.numbers[b.numberingSystem].minusSign+"\u00a0"+c.name,b.negativePrefix=""):(b.negativeSuffix="\u00a0"+c.name,b.negativePrefix=a.numbers[b.numberingSystem].minusSign))};L=function(a,b,c,d){for(var e="",h=0;h<a.length;){var f=a.charAt(h++);if("'"!==
f){switch(f){case "\u00a4":var k=f=c.currencyCode,g=f;void 0!==b.numbers.currencies[f]&&(k=b.numbers.currencies[f].displayName,g=b.numbers.currencies[f].symbol);void 0===c.currencyDisplay||"symbol"===c.currencyDisplay?f=g:"code"!==c.currencyDisplay&&(f=k,d.name=f);break;case "%":f=b.numbers[c.numberingSystem].percentSign;break;case "\u2030":f=b.numbers[c.numberingSystem].perMille;break;case "-":f=b.numbers[c.numberingSystem].minusSign}e=e.concat(f)}}return e};g=function(a,b,c,d){for(var e=!1,h=!1,
f=0,k=0,g=!0,l=1;0<=l&&k<b.length;--l){for(var m=!1,t="",r="",p=-1,s=1,n=0,u=0,B=0,D=-1,v=-1,J,w=0,g=!0,C=k;C<b.length;++C){var F=b.charAt(C);switch(w){case 0:case 2:if(m){if("'"===F){C+1<b.length&&"'"===b.charAt(C+1)?(++C,g?t=t.concat("''"):r=r.concat("''")):m=!1;continue}}else if("#"===F||"0"===F||","===F||"."===F){w=1;--C;continue}else if("\u00a4"===F){void 0===a.currency&&q("pattern");a.style="currency";(F=C+1<b.length&&"\u00a4"===b.charAt(C+1))&&++C;g?t=t.concat(F?"'\u00a4\u00a4":"'\u00a4"):
r=r.concat(F?"'\u00a4\u00a4":"'\u00a4");continue}else if("'"===F){if("'"===F){C+1<b.length&&"'"===b.charAt(C+1)?(++C,g?t=t.concat("''"):r=r.concat("''")):m=!0;continue}}else if(";"===F){0!==w&&0!==l||P(b);k=C+1;C=b.length;continue}else if("%"===F){a.style="percent";1!==s&&P(b);d.isPercent=!0;s=100;g?t=t.concat("'%"):r=r.concat("'%");continue}else if("\u2030"===F){1!==s&&P(b);a.style="perMill";d.isPerMill=!0;s=1E3;g?t=t.concat("'\u2030"):r=r.concat("'\u2030");continue}else if("-"===F){g?t=t.concat("'-"):
r=r.concat("'-");continue}g?t=t.concat(F):r=r.concat(F);break;case 1:if(1===l)++f;else{0===--f&&(w=2,g=!1);continue}if("#"===F)0<u?++B:++n,0<=D&&0>p&&++D;else if("0"===F)0<B&&P(b),++u,0<=D&&0>p&&++D;else if(","===F)v=D,D=0;else if("."===F)0<=p&&P(b),p=n+u+B;else if(N(b,C,"E")){h&&P(b);h=!0;J=0;for(C+=1;C<b.length&&"0"===b.charAt(C);)++J,++f,++C;(1>n+u||1>J)&&P(b);w=2;g=!1;--C}else w=2,g=!1,--C,--f}}0===u&&0<n&&0<=p&&(u=p,0===u&&++u,B=n-u,n=u-1,u=1);(0>p&&0<B||0<=p&&(p<n||p>n+u)||0===D||m)&&P(b);1===
l?(ba=t,W=r,G=ba,H=W,m=n+u+B,d.minimumIntegerDigits=(0<=p?p:m)-n,d.maximumIntegerDigits=h?n+d.minimumIntegerDigits:2147483647,d.maximumFractionDigits=0<=p?m-p:0,d.minimumFractionDigits=0<=p?n+u-p:0,d.groupingSize=0<D?D:0,d.groupingSize0=v):(G=t,H=r,e=!0)}0===b.length&&(ba=W="",d.minimumIntegerDigits=0,d.maximumIntegerDigits=2147483647,d.minimumFractionDigits=0,d.maximumFractionDigits=2147483647);d.useExponentialNotation=h;d.minExponentDigits=J;if(!e||0===G.localeCompare(ba)&&0===H.localeCompare(W))"currency"===
a.style&&"ar"===d.lang?(H=W+"'\u200f-",G=ba):(H=W,G="'-"+ba);O(c,d)};s=function(a,b,c){var d=0>a;a=x(Math.abs(a),b.maximumFractionDigits,c.roundingMode||"DEFAULT");return d?-a:a};R=function(b,c,d){var e={};n(c,"OraNumberConverter.resolvedOptions");r(b,e,c,d);e.numberingSystemKey=D(d);void 0===a.N.dr[e.numberingSystemKey]&&(e.numberingSystemKey="latn");return e};V=function(a,b,c){c={locale:c,style:void 0===b.style?"decimal":b.style,useGrouping:void 0===b.useGrouping?!0:b.useGrouping,numberingSystem:a.numberingSystemKey};
c.minimumIntegerDigits=a.minimumIntegerDigits;c.minimumFractionDigits=a.minimumFractionDigits;c.maximumFractionDigits=a.maximumFractionDigits;"decimal"===b.style&&void 0!==b.decimalFormat&&(c.decimalFormat=b.decimalFormat);"currency"===b.style&&(c.currency=b.currency,c.currencyDisplay=void 0===b.currencyDisplay?"symbol":b.currencyDisplay);void 0!==b.pattern&&(c.pattern=b.pattern);var d=b.roundingMode;b=b.roundDuringParse;void 0!==d&&(c.roundingMode=d);void 0!==b&&(c.roundDuringParse=b);b=a.lenientParse;
void 0!==b&&(c.lenientParse=b);a=a.separators;void 0!==a&&(c.separators=a);return c};return{jc:function(){E||(E=c());return E}}}()});