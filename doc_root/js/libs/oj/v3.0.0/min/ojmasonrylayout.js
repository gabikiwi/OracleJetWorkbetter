/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojdnd"],function(a,g){function c(a,d,e,f,g,k){null==c.eV&&(c.eV=c.UAa());this.Nd=a;this.hi=d;this.Pwa=e;f&&f.Fqa&&(this.AMa=f.Fqa);g&&(g.Iqa&&(this.$0=g.Iqa),g.Hqa&&(this.Z0=g.Hqa),g.Mqa&&(this.e1=g.Mqa),g.Lqa&&(this.d1=g.Lqa),g.Jqa&&(this.b1=g.Jqa),g.Kqa&&(this.oP=g.Kqa),g.Oqa&&(this.g1=g.Oqa),g.Pqa&&(this.h1=g.Pqa),g.Nqa&&(this.f1=g.Nqa));k&&(k.eI&&(this.Bi=k.eI),k.wJ&&(this.bh=k.wJ),k.$ma&&(this.Cda=k.$ma),k.ina&&(this.vY=k.ina),k.oqa&&(this.$u=
k.oqa),k.Kna&&(this.AB=k.Kna),k.loa&&(this.LB=k.loa),k.koa&&(this.jq=k.koa),k.joa&&(this.Ou=k.joa),k.rqa&&(this.IH=k.rqa),k.hf&&(this.lC=k.hf),k.ig&&(this.mC=k.ig));d=document.createElement("div");e=d.style;e.display="inline-block";e.overflow="hidden";e.visibility="hidden";f=document.createElement("div");e=f.style;e.display="inline-block";d.appendChild(f);a.insertBefore(d,a.firstChild);this.Fja=d;this.Cy=f;var l=this;this.cq=function(a){l.Ox(a)};this.Oea=function(){l.vFa()};this.Kx=function(a){l.UY(a)};
this.Nx=function(a){l.aZ(a)}}(function(){function b(a){for(;a;){a=a.nextSibling;var b=!0;if(a){var c=a.style;!c||c.visibility!==t&&c.display!==r||(b=!1)}if(a&&1===a.nodeType&&b)return a}return null}function d(a,b){for(var c=a;c;){var d=c.style;if(d&&(d.visibility===t||d.display===r))break;d=c.parentNode;if(d===b)return c;c=d}return null}function e(a,b){return b.qe<a.qe?1:a.qe<b.qe?-1:0}function f(a){a&&a.sort(e);return a}function h(a){var b=null;a=g(a);a.hasClass("oj-masonrylayout-tile-1x1")?b={colSpan:1,
rowSpan:1}:a.hasClass("oj-masonrylayout-tile-2x1")?b={colSpan:2,rowSpan:1}:a.hasClass("oj-masonrylayout-tile-3x1")?b={colSpan:3,rowSpan:1}:a.hasClass("oj-masonrylayout-tile-1x2")?b={colSpan:1,rowSpan:2}:a.hasClass("oj-masonrylayout-tile-1x3")?b={colSpan:1,rowSpan:3}:a.hasClass("oj-masonrylayout-tile-2x2")?b={colSpan:2,rowSpan:2}:a.hasClass("oj-masonrylayout-tile-2x3")?b={colSpan:2,rowSpan:3}:a.hasClass("oj-masonrylayout-tile-3x2")&&(b={colSpan:3,rowSpan:2});return b}function k(a){var b=null;a=g(a);
a.hasClass("oj-masonrylayout-tile-1x1")?b="oj-masonrylayout-tile-1x1":a.hasClass("oj-masonrylayout-tile-2x1")?b="oj-masonrylayout-tile-2x1":a.hasClass("oj-masonrylayout-tile-3x1")?b="oj-masonrylayout-tile-3x1":a.hasClass("oj-masonrylayout-tile-1x2")?b="oj-masonrylayout-tile-1x2":a.hasClass("oj-masonrylayout-tile-1x3")?b="oj-masonrylayout-tile-1x3":a.hasClass("oj-masonrylayout-tile-2x2")?b="oj-masonrylayout-tile-2x2":a.hasClass("oj-masonrylayout-tile-2x3")?b="oj-masonrylayout-tile-2x3":a.hasClass("oj-masonrylayout-tile-3x2")&&
(b="oj-masonrylayout-tile-3x2");return b}function l(a,b){g(a).removeClass(b)}function m(a,b){g(a).addClass(b)}a.ab("oj.ojMasonryLayout",g.oj.baseComponent,{defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{reorderHandle:null,beforeInsert:null,insert:null,beforeRemove:null,remove:null,beforeResize:null,resize:null,beforeReorder:null,reorder:null},_ComponentCreate:function(){this._super();this.element.addClass("oj-masonrylayout oj-component");this.options.disabled&&a.F.warn(w);this.Bz=this.eventNamespace+
"ReorderHandle";this.Xa={};this.Xa.qi=!1;this.Xa.Qf=!1;this.Xa.f5=!1;this.Xa.ll=!1;this.Xa.nm=!1;this.Eu();this.YE();this.hb(!0)},refresh:function(){this._super();var a="rtl"===this.rd()!==this.Di;a&&this.eba();this.hb(a)},Ap:function(){this._super();this.rf&&this.hb(this.rf[0])},$n:function(){this._super();this.rf&&this.hb(this.rf[0])},bi:function(a,b,c){this.AIa(b);(a=this.Xa.Qf.children().not(".oj-helper-hidden"))&&0<a.length&&this.di(b,c,{launcher:g(b.target).closest(":tabbable")})},hb:function(b){if(this.hF()){this.rf=
null;this.Di="rtl"===this.rd();this.bu=a.Q.Ne();var d=this.element,e=this.options;if(b){var g=this;this.$u=function(a){g.dMa(a)};this.AB=function(a){g.uFa(a)};this.LB=function(){g.eHa()};this.jq=function(){g.dHa()};this.Ou=function(){g.cHa()};if(!this.Ni){var s={};s.Fqa=u;var n={Iqa:"oj-masonrylayout-transition-resize-to",Hqa:"oj-masonrylayout-transition-resize-to-fast",Mqa:"oj-masonrylayout-tile-transition-move-to",Lqa:"oj-masonrylayout-tile-transition-move-to-fast",Jqa:"oj-masonrylayout-tile-transition-hide-from",
Kqa:"oj-masonrylayout-tile-transition-hide-to"};n.Oqa=v;n.Pqa="oj-masonrylayout-tile-transition-show-to";n.Nqa="oj-masonrylayout-tile-transition-resize-to";var q={};q.eI=m;q.wJ=l;q.$ma=k;q.ina=h;q.oqa=this.$u;q.Kna=this.AB;q.loa=this.LB;q.koa=this.jq;q.joa=this.Ou;q.rqa=f;q.hf=a.Components.hf;q.ig=a.Components.ig;this.CKa();this.Ni=new c(d[0],this.Di,"enabled"===a.qa.D2(),s,n,q)}this.kea=function(a){g.OY(a)};this.hea=function(a){g.LY(a)};this.jea=function(a){g.NY(a)};this.iea=function(a){g.MY(a)};
this.fea=function(a){g.KY(a)};this.lea=function(a){g.PY(a)};e.reorderHandle&&this.rja()}else e=d.children(),this.P0(e),this.z0(e),this.Cxa();this.Ni.vt(b);b&&(this.Dk=function(){g.Ji()},a.Q.bm(d[0],this.Dk))}else d=!1,this.rf&&(d=this.rf[0]),this.rf=[b||d]},_destroy:function(){this.ox();var b=this.element;a.Q.Gn(b[0],this.Dk);this.Dk=null;this.xKa();for(var c=this.aq(),d=c.length,e=0;e<d;e++)delete c[e].qe;this.eba();b.removeClass("oj-masonrylayout oj-component");this.options.reorderHandle&&this.bka();
this.PA=this.Ou=this.jq=this.LB=this.AB=this.$u=this.lea=this.fea=this.iea=this.jea=this.hea=this.kea=null;this._super()},_setOption:function(b,c,d){var e=!1;switch(b){case "reorderHandle":this.bka();e=!0;break;case "disabled":a.F.warn(w);break;case "contextMenu":a.Q.Ne()||(this.ox(),c&&this.Eu(c))}this._super(b,c,d);e&&c&&this.rja()},resizeTile:function(a,b){var c=this.Ni;c.PQ()&&c.fQ();var d=g(a),e=d[0],f=k(e);if(b==f)throw Error("JET MasonryLayout: Unable to resize child "+a+" to style class "+
b+" because "+b+" is already applied.");!1!==this._trigger("beforeResize",null,{tile:d,previousSizeStyleClass:f,sizeStyleClass:b})&&(this.$E||(this.$E=[]),this.$E.push(e,f,b),c.resizeTile(a,b))},insertTile:function(b,c){var d=this.Ni;d.PQ()&&d.fQ();isNaN(c)&&(c=-1);var e=g(b),f=e[0];!1!==this._trigger("beforeInsert",null,{tile:e,index:c})&&(f.fga=c,d.Qj()&&e.addClass(v),e=f.style,e.top="-1px",this.Di?e.right="-1px":e.left="-1px",this.Fu(f,c),d.tRa(f,c),a.Components.hf(f),this.PA||(this.PA=[]),this.PA.push(b))},
removeTile:function(b){var c=this.Ni;c.PQ()&&c.fQ();var d=g(b),e=d[0];if(a.Ye.RP(e)){var f=this.aq(!0),e=f.indexOf(e);0<e&&(this.AW=f[e-1])}!1!==this._trigger("beforeRemove",null,{tile:d})&&c.iRa(b)},Ji:function(){this.Ip||this.Vea||this.Ni.eTa()},dMa:function(a){var b=g(a),c=a.fga;delete a.fga;this.options.reorderHandle&&this.z0(b);this._trigger("insert",null,{tile:b,index:c})},uFa:function(b){var c=g(b);this.options.reorderHandle&&this.P0(c);a.Components.ig(b);b.parentNode.removeChild(b);this.OO(b);
this._trigger("remove",null,{tile:c})},eHa:function(){if(this.PA){for(var a=this.Ni,b=this.PA,c=0;c<b.length;c++)a.JTa(b[c]);this.PA=null}if(this.$E){a=this.$E;for(c=0;c<a.length;c+=3){var b=a[c+1],d=a[c+2],b={tile:g(a[c]),previousSizeStyleClass:b,sizeStyleClass:d};this._trigger("resize",null,b)}this.$E=null}this.Ip&&(this.HL?this.FDa():this.oV&&this.gea())},dHa:function(){this.Vea=!0;this.pO=null;var b=document.activeElement;b&&a.Q.Tq(this.element[0],b)&&(this.pO=b)},cHa:function(){this.Vea=!1;var b=
this.element[0];if(this.pO){var c=this.pO;this.pO=null;if(this.AW){if(c=this.AW,this.AW=null,c&&a.Q.Tq(b,c)){var b=this.aq(b,!0),d=b.indexOf(c);0<=d&&d<b.length-1?a.Ye.A2(b[d+1]):a.Ye.A2(c)}}else a.Q.Tq(b,c)?a.Ye.nI(c):a.Ye.A2(b)}},eba:function(){var a=this.Ni;a&&a.destroy();this.Ni=null},hF:function(){var a=document.createElement("div"),b=a.style;b.width="10px";b.height="10px";b=this.element[0];b.appendChild(a);var c=!1;try{c=0<a.offsetWidth&&0<a.offsetHeight}catch(d){}b.removeChild(a);return c},
aq:function(a){for(var b=this.element.children(u),c=b.length,d=[],e=0;e<c;e++){var f=b[e];if(!a||a&&f!==this.$f){var g=f.style;g.visibility!==t&&g.display!==r&&d.push(f)}}return d},CKa:function(){var a=this.aq();if(a)for(var b=0;b<a.length;b++){var c=a[b];c.qe||(c.qe=b+1)}},Cxa:function(){var a=this.aq();if(a)for(var b=0;b<a.length;b++){var c=a[b];c.qe||this.Fu(c,b)}},xKa:function(){var b=this.aq(),c=this.aq();f(c);for(var d=0;d<b.length;d++){var e=b[d],g=c[d];e!=g&&(a.Components.ig(g),e.parentNode.insertBefore(g,
e),a.Components.hf(g),e=b.indexOf(g),e>d&&(b.splice(e,1),b.splice(d,0,g)))}},Fu:function(a,b){var c=this.aq();0>b&&(b=c.length);if(c)for(var d=0;d<c.length;d++){var e=c[d];e.qe&&e.qe>=b+1&&e.qe++}a.qe=b+1},OO:function(a){if(a.qe){var b=this.aq();if(b)for(var c=0;c<b.length;c++){var d=b[c];d.qe&&d.qe>a.qe&&d.qe--}delete a.qe}},Eu:function(a){var b=null,c=null;a||this.options.contextMenu||(b=this.element.attr("contextmenu"))&&(this.options.contextMenu="#"+b);if(a||this.options.contextMenu){b=a||this.options.contextMenu;
c=g.type(b);if("function"==c){try{b=b()}catch(d){b=null}g.type(b)}if(b){if(b=g(b)){b.css("display",r);c=this.Xa;if(!c)return;c.Qf=b;c.qi=!0}this.Xa.qi&&a&&this.YE()}}},YE:function(){if(this.Xa&&this.Xa.qi&&this.options.reorderHandle){var a=this.Xa.Qf,b=this;a.on("ojselect",g.proxy(this.Vl,this));var c=!1;a.find("[data-oj-command]").each(function(){if(0===g(this).children("a").length){var a=g(this).attr("data-oj-command").slice(17);g(this).replaceWith(b.tk(a));g(this).addClass("oj-menu-item");c=!0}});
c&&a.ojMenu("refresh");this.Xa.f5=a.find("#"+x);this.Xa.ll=a.find("#"+y);this.Xa.nm=a.find("#"+z)}},ox:function(){var a=this.Xa;a&&a.qi&&(a.qi=!1,a.Qf.off("ojselect"),a.Qf=null)},AIa:function(a){var c=this.element,e=a.originalEvent.target,f=this.options.reorderHandle;a=!1;f&&(f=g(e).closest(f))&&0<f.length&&(a=!0);c=d(e,c[0]);this.Xa.tile=c;if(this.Xa.qi){var e=this.Xa.VP,f=!1,h=this.Xa.f5;if(h){var k=h.hasClass("oj-helper-hidden");a||k?a&&k&&(h.removeClass("oj-helper-hidden"),f=!0):(h.addClass("oj-helper-hidden"),
f=!0);var l=h.hasClass(s),k=!1;e&&c===e&&(k=!0);k&&!l?(h.addClass(s),f=!0):!k&&l&&(h.removeClass(s),f=!0)}if(h=this.Xa.ll)k=h.hasClass("oj-helper-hidden"),a||k?a&&k&&(h.removeClass("oj-helper-hidden"),f=!0):(h.addClass("oj-helper-hidden"),f=!0),l=h.hasClass(s),k=!1,e&&c!==e&&c!==b(e)||(k=!0),k&&!l?(h.addClass(s),f=!0):!k&&l&&(h.removeClass(s),f=!0);if(h=this.Xa.nm)k=h.hasClass("oj-helper-hidden"),a||k?a&&k&&(h.removeClass("oj-helper-hidden"),f=!0):(h.addClass("oj-helper-hidden"),f=!0),a=h.hasClass(s),
k=!1,e&&e!==c&&e!==b(c)||(k=!0),k&&!a?(h.addClass(s),f=!0):!k&&a&&(h.removeClass(s),f=!0);f&&this.Xa.Qf.ojMenu("refresh")}},tk:function(a){var b=A[a];a=D[a];var c=g('\x3ca href\x3d"#"\x3e\x3c/a\x3e');c.text(this.R(a));c.wrap("\x3cli id\x3d"+b+"\x3e\x3c/li\x3e");return c.parent()},uHa:function(a){a&&(this.Xa.VP=a)},Ega:function(a,b){if(a&&this.Xa.VP){var c=this.Xa.VP;this.Xa.VP=!1;this.Rza(c,a,b)}},Rza:function(a,c,d){var e=a.qe-1,f=g(a);if(!1!==this._trigger("beforeReorder",null,{tile:f,fromIndex:e})){this.OO(a);
var h=c.qe-1;d||h++;var k=this.element[0];d||(c=b(c));this.Fu(a,h);k.insertBefore(a,c);this.Ni.vt(!0);this._trigger("reorder",null,{tile:f,fromIndex:e,toIndex:h})}},Vl:function(a,b){var c=b?b.item.attr("id"):void 0;c===x?this.uHa(this.Xa.tile):c===y?this.Ega(this.Xa.tile,!0):c===z&&this.Ega(this.Xa.tile,!1)},Lda:function(a){var b=this.aq(!0);f(b);for(var c=b.length,d=0;d<c;d++)if(b[d]===a)return d;return-1},rja:function(){var a=this.element,b=a.children();this.z0(b);a.on("dragstart"+this.Bz,this.kea).on("dragenter"+
this.Bz,this.hea).on("dragover"+this.Bz,this.jea).on("dragleave"+this.Bz,this.iea).on("dragend"+this.Bz,this.fea).on("drop"+this.Bz,this.lea)},z0:function(a){var b=this.options;a.filter(b.reorderHandle).attr(n,"true").addClass(q);a.find(b.reorderHandle).attr(n,"true").addClass(q)},bka:function(){var a=this.element,b=a.children();this.P0(b);a.off(this.Bz)},P0:function(a){var b=this.options;a.filter(b.reorderHandle).removeAttr(n).removeClass(q);a.find(b.reorderHandle).removeAttr(n).removeClass(q)},
OY:function(a){var b=this.options;if(b.reorderHandle){var c=a.originalEvent.target,c=g(c).closest(b.reorderHandle);if(!c||1>c.length)return}b.reorderHandle&&!this.Ip&&(c=a.target,b=d(c,this.element[0]))&&(c=this.Lda(b),b.IZ=c,c={tile:g(b),fromIndex:c},!1!==this._trigger("beforeReorder",null,c)&&(a=a.originalEvent,this.OW(b,a.pageX,a.pageY,a.dataTransfer)))},LY:function(b){if(this.Ip){b=b.originalEvent;var c=b.relatedTarget,d=this.element[0],e=!1;c?e=d!=c&&!a.Q.Tq(d,c):this.uba&&(e=(c=document.elementFromPoint(b.clientX,
b.clientY))&&(c==d||a.Q.Tq(d,c)));e&&((this.uba=!1,this.nu)?this.$f&&(g(this.$f).css("display",""),this.Ni.vt(!1,!0)):b.dataTransfer.dropEffect="none")}},NY:function(a){if(!this.Ip)return!1;var b=a.originalEvent;b.dataTransfer.dropEffect="move";this.Zza(b.pageX,b.clientX,b.clientY);a.preventDefault();return!1},MY:function(b){if(this.Ip){var c=b.originalEvent,d=c.relatedTarget;b=this.element[0];var e=!1;e=d?b!=d&&!a.Q.Tq(b,d):(c=document.elementFromPoint(c.clientX,c.clientY))&&c!=b&&!a.Q.Tq(b,c);e&&
(this.uba=!0,this.$f&&(g(this.$f).css("display",r),this.Ni.vt(!1,!0)))}},V$:function(){if(this.xM){clearTimeout(this.xM);this.xM=null;var a=this.nu;a&&g(a).removeClass("oj-drag")}},KY:function(){this.V$();if(this.Ip&&!this.qV){var b=this.nu;if(b&&this.$f){var c=this.$f;a.Q.Tq(this.element[0],b)&&(g(c).css("display",""),this.OO(c),c.parentNode.removeChild(c),g(b).css("display",""),this.Fu(b,b.qe-1),this.Ni.vt(!1,!0));delete b.IZ}this.$f=this.nu=null;this.JL=this.HL=!1;this.NW=null;this.Ip=this.oV=
!1}},PY:function(a){if(!this.Ip)return!1;var b=this.Ni;b.PQ()&&b.fQ();this.V$();b=a.originalEvent;this.iAa(this.nu,b.pageX,b.pageY);a.stopPropagation();return!1},OW:function(b,c,d,e){this.Ip=!0;this.pV=this.JL=this.qV=!1;this.nu=b;var f=this.element[0],h=k(b),l=this.$f=document.createElement("div");l.qe=b.qe;l.className=h+" oj-drop";var h=l.style,m=b.style;h.top=m.top;this.Di?h.right=m.right:h.left=m.left;h=g(b).offset();f.insertBefore(l,b);this.NW=c={left:c-h.left,top:d-h.top};g(b).addClass("oj-drag");
e.effectAllowed="move";e.setData("text/html",b.outerHTML);e.setDragImage(b,c.left,c.top);var s=this;this.xM=setTimeout(function(){s.pV=!0;m.display=r;g(b).removeClass("oj-drag");s.xM=null;a.Components.ew(b)},0)},Zza:function(a,c,e){this.JL=!0;if(this.pV&&!this.HL){var f=this.element[0];c=document.elementFromPoint(c,e);c=d(c,f);e=!1;if(c){var h=g(c),k=this.options.reorderHandle;k&&(e=(e=h.find(k))&&0<e.length)}c&&c!==this.$f&&c!==this.nu&&e&&(h=g(f).offset(),e=b(this.$f),a=a-h.left>=c.offsetLeft+.5*
c.offsetWidth,this.OO(this.$f),a&&!this.Di||!a&&this.Di?(a=b(c))?(this.Fu(this.$f,a.qe-1),f.insertBefore(this.$f,a)):(this.Fu(this.$f,c.qe),f.appendChild(this.$f)):(this.Fu(this.$f,c.qe-1),f.insertBefore(this.$f,c)),e!==b(this.$f)&&(this.HL=this.Ni.vt(!1,!0)))}},FDa:function(){this.HL=!1},iAa:function(b,c,d){this.qV=!0;var e=this.element[0],f=this.$f;this.$f=null;a.Components.ig(b);e.replaceChild(b,f);a.Components.hf(b);b.qe=f.qe;f=b.style;f.display="";a.Components.xt(b);var h=g(e).offset(),k=this.NW;
f.top=d-k.top-h.top+p;c=c-k.left-h.left;this.Di?(f.right=e.offsetWidth-(c+g(b).outerWidth(!0))+p,f.left=""):f.left=c+p;this.NW=null;this.JL?this.oV=this.Ni.vt(!1,!0):this.gea()},gea:function(){this.pV=this.JL=this.qV=this.Ip=this.oV=!1;var a=this.nu;this.nu=null;var b=a.IZ;delete a.IZ;var c=this.Lda(a),a={tile:g(a),fromIndex:b,toIndex:c};this._trigger("reorder",null,a)},getNodeBySubId:function(a){return this._super(a)},getSubIdByNode:function(a){return this._super(a)}});var p="px",t="hidden",r="none",
n="draggable",s="oj-disabled",q="oj-draggable",u=".oj-masonrylayout-tile-1x1, .oj-masonrylayout-tile-1x2, .oj-masonrylayout-tile-1x3, .oj-masonrylayout-tile-2x1, .oj-masonrylayout-tile-2x2, .oj-masonrylayout-tile-2x3, .oj-masonrylayout-tile-3x1, .oj-masonrylayout-tile-3x2",v="oj-masonrylayout-tile-transition-show-from",w="JET MasonryLayout: 'disabled' option not supported",x="ojmasonrylayoutcut",y="ojmasonrylayoutpastebefore",z="ojmasonrylayoutpasteafter",A={cut:x,"paste-before":y,"paste-after":z},
D={cut:"labelCut","paste-before":"labelPasteBefore","paste-after":"labelPasteAfter"}})();c.prototype.vt=function(a,c){var e=!1;a?(e=this.Gf()?!0:!1,this.bia()):(this.jq&&this.jq(),this.i1(c),e=this.c1());return e};c.prototype.destroy=function(){for(var a=this.Nd,c=this.Ix(),e=0;e<c.length;e++){var f=c[e].style;this.hi?f.right="":f.left="";f.top=""}a.removeChild(this.Fja);this.mC=this.lC=this.IH=this.Ou=this.jq=this.LB=this.AB=this.$u=this.vY=this.Cda=this.bh=this.Bi=this.Nd=this.Or=this.Gp=this.Jm=
this.Hp=this.ho=this.Nx=this.Kx=this.Oea=this.cq=this.Cy=this.Fja=null};c.prototype.resizeTile=function(a,c){var e=this.Nd.querySelector(a);if(e){this.Hp||(this.Hp=[]);var f=this.Hp;f.push(e);f.push(c);this.mia=!0;this.dH()}};c.prototype.tRa=function(a,c){var e=this.Ix();this.IH&&this.IH(e);var f=null;0<=c&&c<e.length&&(f=e[c]);this.Nd.insertBefore(a,f);this.dH()};c.prototype.JTa=function(a){if(a=this.Nd.querySelector(a))this.Jm||(this.Jm=[]),this.Jm.push(a),this.G0=!0,this.Ao!==c.y8&&this.Ao!==c.$K?
this.dH():this.G0=!1};c.prototype.iRa=function(a){if(a=this.Nd.querySelector(a))this.Gp||(this.Gp=[]),this.Gp.push(a),this.Pea=!0,this.dH()};c.prototype.eTa=function(){this.mia||this.Pea||this.G0||(this.jq&&this.jq(),this.i1(!1),this.c1())};c.prototype.Qj=function(){if(this.dka)return!1;this.kxa||(this.Dwa=this.Pwa?!1:c.CGa(c.eV[0],c.eV[1]),this.kxa=!0);return this.Dwa};c.prototype.PQ=function(){return null!=this.Ao||null!=this.ho&&0<this.ho.length};c.prototype.fQ=function(){this.dka=!0;this.xs(this.e1);
this.xs(this.d1);this.xs(this.b1);this.xs(this.oP);this.xs(this.g1);this.xs(this.h1);this.xs(this.f1);this.bh(this.Cy,this.$0);this.bh(this.Cy,this.Z0);c.yg(this.Nd,"transitionend",this.cq);c.yg(this.Nd,"webkitTransitionEnd",this.cq);for(var a=this.Ix(),d=0;d<a.length;d++){var e=a[d];e.EL&&delete e.EL;c.yg(e,"transitionend",this.Kx);c.yg(e,"webkitTransitionEnd",this.Kx);c.yg(e,"transitionend",this.Nx);c.yg(e,"webkitTransitionEnd",this.Nx)}this.BB?(clearTimeout(this.BB),this.BB=null,this.UY(null)):
this.jC?(clearTimeout(this.jC),this.jC=null,this.F0()):this.Ao===c.$K||null!=this.ho&&0<this.ho.length?this.Ox(null):this.Ao===c.z8&&this.aZ(null);this.dka=!1};c.EBa=function(a){var d=c.RF(a);return{ij:a.offsetWidth+(c.Aj(d.marginLeft)+c.Aj(d.marginRight)),$k:a.offsetHeight+(c.Aj(d.marginTop)+c.Aj(d.marginBottom))}};c.DBa=function(a){a=c.RF(a);return{paddingLeft:c.Aj(a.paddingLeft),paddingRight:c.Aj(a.paddingRight),paddingTop:c.Aj(a.paddingTop),paddingBottom:c.Aj(a.paddingBottom),borderLeftWidth:c.Aj(a.borderLeftWidth),
borderRightWidth:c.Aj(a.borderRightWidth),borderTopWidth:c.Aj(a.borderTopWidth),borderBottomWidth:c.Aj(a.borderBottomWidth)}};c.RF=function(a){var c=a.ownerDocument.defaultView,e=null;return e=c?c.getComputedStyle(a,null):a.currentStyle};c.Aj=function(a){return 0<a.length&&"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),a):0};c.Ai=function(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent&&a.attachEvent("on"+c,e)};c.yg=function(a,c,e){a.removeEventListener?a.removeEventListener(c,e,!1):
a.detachEvent&&a.detachEvent("on"+c,e)};c.Y9=function(a,c){if(a)for(var e=0;e<a.length;e++)if(a[e]==c)return e;return-1};c.CGa=function(a,c){var e=["gecko",16,"trident",6,"webkit",533.1],f=e.length;if(0==f%2)for(var g=0;g<=f-2;g+=2)if(a==e[g]){if(c>=e[1+g])return!0;break}return!1};c.UAa=function(){var a=c.Yl,d=null,e=-1,f=navigator.userAgent.toLowerCase();-1!=f.indexOf("msie")||-1!=f.indexOf("trident")?(d="trident",e=a(f,/trident\/(\d+[.]\d+)/),-1==e&&(e=a(f,/msie (\d+\.\d+);/),-1==e&&(e=a(f,/msie (\d+\.\d+)b;/)),
e-=4),null!=document.documentMode&&(e=Math.min(e,document.documentMode-4))):-1!=f.indexOf("applewebkit")?(d="webkit",e=a(f,/applewebkit\/(\d+([.]\d+)*)/)):-1!=f.indexOf("gecko/")&&(d="gecko",e=a(f,/rv:(\d+[.]\d+)/));return[d,e]};c.Yl=function(a,c){var e=a.match(c);return e&&(e=e[1])?parseFloat(e):-1};c.gya=function(a,c){return a.YR>c.YR?1:a.YR<c.YR?-1:a.XR>c.XR?1:a.XR<c.XR?-1:0};c.prototype.dH=function(){this.QN||(this.Ao?this.D_||(this.D_=!0):this.QN=setTimeout(this.Oea,0))};c.prototype.Ix=function(){for(var a=
this.Nd.querySelectorAll(this.AMa),c=[],e=0;e<a.length;e++){var f=a[e],g=f.style;0<f.offsetWidth&&0<f.offsetHeight&&"hidden"!=g.visibility&&c.push(f)}return c};c.prototype.c1=function(){var a=this.ho,d=this.Gf();if(this.Hp){var e=this.Hp;d||(d=[]);for(var f=0;f<e.length;f+=2){var g=e[f];0>c.Y9(d,g)&&d.push(g)}}e=!1;if(!d||1>d.length){if(!a||1>a.length)this.ho=null,this.Ox(null),e=!0}else this.ho=d;a=null!=d&&0<d.length;this.Qj()||e||this.Ox(null);return a};c.prototype.Gf=function(){var a=this.Nd,
d=this.Ix();this.IH&&this.IH(d);var e=this.MV=null;this.gu=0;this.Na=1;this.TB=null;var f=[],g=[],k=[],l=this.hi,m=c.DBa(a),p=0,t=[];this.X9=t;for(var r=0;r<d.length;r++){var n=d[r],s=this.vY(n);(e=n.EL)&&delete n.EL;if(!this.MV){var q=s;e&&(q=document.createElement("div"),q.className=e,q=this.vY(q));this.MV=this.lxa(n,q)}e=this.MV;this.TB||(this.gu=Math.max(Math.floor((a.offsetWidth-m.paddingLeft-m.paddingRight-m.borderLeftWidth-m.borderRightWidth)/e.ij),1),this.QFa(this.gu,this.Na),p=this.gu);s.colSpan>
p&&(p=s.colSpan);s.colSpan>this.gu&&(s.colSpan=this.gu);for(var u=!1,q=0;q<this.Na;q++){for(var v=0;v<this.gu;v++)if(this.LAa(v,q,s)){var u=n.style,w={top:u.top};l?w.right=u.right:w.left=u.left;g.push(w);this.u_(n,v,q,s,e,m);l&&k.push(v);u=!0;t.push({XR:v,YR:q,tile:n});break}if(u)break;q===this.Na-1&&this.C9()}}e&&(a=this.Cy.style,a.width=p*e.ij+"px",a.height=this.Na*e.$k+"px");for(r=0;r<d.length;r++)n=d[r],u=n.style,w=g[r],""!=w.top&&(l&&parseInt(u.right,10)!==parseInt(w.right,10)||!l&&parseInt(u.left,
10)!==parseInt(w.left,10)||parseInt(u.top,10)!==parseInt(w.top,10))&&f.push(n);1>f.length&&(f=null);return f};c.prototype.bia=function(){var a=this.X9;this.X9=null;for(var a=a.sort(c.gya),d=this.Ix(),e=0;e<d.length;e++){var f=d[e],g=a[e].tile;f!=g&&(this.mC(g),f.parentNode.insertBefore(g,f),this.lC(g),f=c.Y9(d,g),f>e&&(d.splice(f,1),d.splice(e,0,g)))}};c.prototype.QFa=function(a,c){for(var e=this.TB=[],f=0;f<c;f++){var g=[];e.push(g);for(var k=0;k<a;k++)g[k]=!1}};c.prototype.C9=function(){this.Na++;
var a=[];this.TB.push(a);for(var c=0;c<this.gu;c++)a[c]=!1};c.prototype.LAa=function(a,c,e){var f=e.colSpan;e=e.rowSpan;for(var g=c;g<c+e;g++){g>=this.Na&&this.C9();for(var k=a;k<a+f;k++)if(k>=this.gu||this.TB[g][k])return!1}return!0};c.prototype.u_=function(a,c,e,f,g,k){var l=f.colSpan;f=f.rowSpan;for(var m=this.TB,p=e;p<e+f;p++)for(var t=c;t<c+l;t++)m[p][t]=!0;a=a.style;a.top=k.paddingTop+e*g.$k+"px";this.hi?a.right=k.paddingRight+c*g.ij+"px":a.left=k.paddingLeft+c*g.ij+"px"};c.prototype.kwa=function(a){for(var c=
this.Ix(),e=0;e<c.length;e++)this.Bi(c[e],a)};c.prototype.xs=function(a){for(var c=this.Ix(),e=0;e<c.length;e++)this.bh(c[e],a)};c.prototype.i1=function(a){this.lga||(this.cia=a,this.Qj()&&(this.kwa(a?this.d1:this.e1),this.Bi(this.Cy,a?this.Z0:this.$0),c.Ai(this.Nd,"transitionend",this.cq),c.Ai(this.Nd,"webkitTransitionEnd",this.cq)),this.lga=!0)};c.prototype.Ox=function(a){var d=!0;if(this.ho){var e=this.ho;if(a){var f=a.target;for(a=0;a<e.length;a++)if(f===e[a]){e.splice(a,1);break}}else this.Qj()||
(e=this.ho=[]);0<e.length&&(d=!1)}if(d){if(this.Hp&&(d=this.Hp,this.Hp=null,this.Qj()))for(a=0;a<d.length;a+=2)this.bh(d[a],this.f1);this.cia?(this.Qj()&&(this.xs(this.d1),this.bh(this.Cy,this.Z0)),this.cia=!1):this.Qj()&&(this.xs(this.e1),this.bh(this.Cy,this.$0));this.Qj()&&(c.yg(this.Nd,"transitionend",this.cq),c.yg(this.Nd,"webkitTransitionEnd",this.cq));this.G0=this.Pea=this.mia=this.lga=!1;this.bia();this.LB&&this.LB();if(this.Ao===c.$K)if(this.Qj()){var g=this;this.jC=setTimeout(function(){g.F0()},
0)}else this.F0();else this.Ao||this.Ou&&this.Ou()}};c.prototype.lxa=function(a,d){var e=c.EBa(a);return{ij:e.ij/d.colSpan,$k:e.$k/d.rowSpan}};c.prototype.vFa=function(){this.QN&&(clearTimeout(this.QN),this.QN=null);this.jq&&this.jq();this.Ao=c.y8;if(this.Gp&&this.Qj()){for(var a=this.Gp,d=0;d<a.length;d++){var e=a[d];c.Ai(e,"transitionend",this.Kx);c.Ai(e,"webkitTransitionEnd",this.Kx);this.Bi(e,this.b1)}var f=this;this.BB=setTimeout(function(){for(var c=0;c<a.length;c++){var d=a[c];f.bh(d,f.b1);
f.Bi(d,f.oP)}},0)}else this.UY(null)};c.prototype.UY=function(a){this.BB&&(clearTimeout(this.BB),this.BB=null);if(a){a.preventDefault();a.stopPropagation();a=a.target;this.bh(a,this.oP);c.yg(a,"transitionend",this.Kx);c.yg(a,"webkitTransitionEnd",this.Kx);var d=this.Gp;if(d){for(var e=0;e<d.length;e++){var f=d[e];if(f===a){d.splice(e,1);this.Or||(this.Or=[]);var g=this.Or;g.push(a);break}}1>d.length&&(this.Gp=null)}}else if(!this.Qj()&&(d=this.Gp)){for(e=0;e<d.length;e++)f=d[e],this.Or||(this.Or=
[]),g=this.Or,g.push(f);this.Gp=null}if(!this.Gp){if(this.Or){g=this.Or;for(e=0;e<g.length;e++)a=g[e],this.Qj()&&this.bh(a,this.oP),d=a.style,this.hi?d.right="":d.left="",d.top="",this.AB&&this.AB(a);this.Or=null}this.Ao=c.$K;this.i1(!1);if(this.Hp)for(g=this.Hp,e=0;e<g.length;e+=2)a=g[e],d=g[e+1],f=this.Cda(a),this.bh(a,f),this.Bi(a,d),this.Qj()&&(this.Bi(a,this.f1),a.EL=f);this.c1()}};c.prototype.F0=function(){this.jC&&(clearTimeout(this.jC),this.jC=null);this.Ao=c.z8;if(this.Jm&&this.Qj())for(var a=
this.Jm,d=0;d<a.length;d++){var e=a[d];c.Ai(e,"transitionend",this.Nx);c.Ai(e,"webkitTransitionEnd",this.Nx);this.Bi(e,this.h1);this.bh(e,this.g1)}else{if(this.Jm)for(a=this.Jm,d=0;d<a.length;d++)e=a[d],this.bh(e,this.g1);this.aZ(null)}};c.prototype.aZ=function(a){if(a){a.preventDefault();a.stopPropagation();a=a.target;this.bh(a,this.h1);c.yg(a,"transitionend",this.Nx);c.yg(a,"webkitTransitionEnd",this.Nx);var d=this.Jm;if(d){for(var e=0;e<d.length;e++){var f=d[e];if(f===a){d.splice(e,1);this.$u&&
this.$u(a);break}}1>d.length&&(this.Jm=null)}}else if(!this.Qj()&&(d=this.Jm)){for(e=0;e<d.length;e++)f=d[e],this.$u&&this.$u(f);this.Jm=null}this.Jm||(this.Ao=null,this.Ou&&this.Ou(),this.D_&&(this.D_=!1,this.dH()))};c.y8=1;c.$K=2;c.z8=3;a.U.ob("oj-masonry-layout","baseComponent",{properties:{reorderHandle:{type:"string"}},methods:{insertTile:{},removeTile:{},resizeTile:{}},events:{beforeInsert:{},beforeRemove:{},beforeReorder:{},beforeResize:{},insert:{},remove:{},reorder:{},resize:{}},extension:{mb:"ojMasonryLayout"}});
a.U.register("oj-masonry-layout",{metadata:a.U.getMetadata("oj-masonry-layout")})});