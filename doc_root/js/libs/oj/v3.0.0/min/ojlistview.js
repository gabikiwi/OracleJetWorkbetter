/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdomscroller","ojs/ojanimation","promise"],function(a,g){a.Vd=function(a,b,d){this.fa=b;this.C=a;this.vd=!1;this.bqa(d);this.Init()};a.f.xa(a.Vd,a.f,"oj.DataSourceContentHandler");a.Vd.prototype.Init=function(){a.Vd.O.Init.call(this)};a.f.j("DataSourceContentHandler.prototype.Init",{Init:a.Vd.prototype.Init});a.Vd.prototype.rl=function(){};a.Vd.prototype.zD=function(){};a.Vd.prototype.Oh=function(){null!=this.c4&&(this.fa=this.c4);g(this.fa).empty();
this.c4=this.fa=this.C=null};a.Vd.prototype.Xz=function(){return!this.vd};a.Vd.prototype.F4=function(){this.bk()?this.fa.setAttribute("role","grid"):this.tl()?this.fa.setAttribute("role","tree"):this.fa.setAttribute("role","listbox")};a.Vd.prototype.q6=function(){var a,b;this.ac();this.F4();this.bk()&&this.Fh()&&!this.tl()&&(a=document.createElement("li"),b=document.createElement("ul"),a.appendChild(b),g(a).attr("role","presentation"),g(b).attr("role","row").addClass(this.C.fh()),this.fa.appendChild(a),
this.c4=this.fa,this.fa=b);this.Kq(!1);this.Rb()};a.Vd.prototype.og=function(a){return a.key};a.Vd.prototype.Se=function(a){var b,d,e;b=g(this.fa).find("."+this.C.Dg());for(d=0;d<b.length;d++)if(e=b[d],a==this.og(e))return e;return null};a.Vd.prototype.rma=function(){return this.gb};a.Vd.prototype.bqa=function(a){this.gb=a};a.Vd.prototype.Kq=function(){this.C.LD()};a.Vd.prototype.J1=function(a,b,d,e,f){var h,k;h=document.createElement("li");g(h).uniqueId();k=g(a).children("."+this.C.Dg()+", .oj-listview-no-data-message");
a.insertBefore(h,b===k.length?null:k[b]);k=g(a).children().index(h);this.A9(h,k,a,b,d,e,f)};a.Vd.prototype.$Sa=function(a,b,d,e,f){var h,k,l;this.ac();h=a.parentNode;k=g(h).children().index(a);l=document.createElement("li");g(a).replaceWith(l);this.A9(l,k,h,b,d,e,f)};a.Vd.prototype.A9=function(a,b,d,e,f,h,k){var l;void 0==k&&(k=this.Ny.bind(this));e=this.d2(e,f,h,a);h=this.C.TBa();null!=h?(h=h.call(this,e),null!=h&&(null===h.parentNode||h.parentNode instanceof DocumentFragment?a.appendChild(h):null==
h.parentNode&&h.toString&&(l=document.createElement("span"),l.appendChild(document.createTextNode(h.toString())),a.appendChild(l)))):(l=document.createElement("span"),l.appendChild(document.createTextNode(null==f?"":f.toString())),a.appendChild(l));a=d.children[b];e.parentElement=a;g.data(a,"data",f);k(a,e)};a.Vd.prototype.Ny=function(a,b){var d;a.key=b.key;a=g(a);a.uniqueId();d=this.C.tQ(a);this.bk()?void 0==b.leaf||b.leaf?this.Fh()?d.attr("role","gridcell"):(a.attr("role","row"),d!=a?d.attr("role",
"gridcell"):d.children().wrapAll("\x3cdiv role\x3d'gridcell' class\x3d'oj-listview-cell-element'\x3e\x3c/div\x3e")):a.attr("role","presentation"):(d.attr("role",this.tl()?"treeitem":"option"),d!=a&&a.attr("role","presentation"));d.addClass(this.C.kn());this.hD(b)||a.addClass("oj-skipfocus");a.addClass(this.C.Dg())};a.Vd.prototype.d2=function(a,b,d,e){var f,g;f={};f.parentElement=e;f.index=a;f.data=b;f.component=this.C.md();f.datasource=this.gb;this.C.Dr&&(f=this.C.Dr(f));for(g in d)d.hasOwnProperty(g)&&
(f[g]=d[g]);return f};a.Vd.prototype.hD=function(a){return this.C.K2(a)};a.Vd.prototype.RQ=function(a){return this.C.Ema(a)};a.Vd.prototype.Fh=function(){return this.C.Fh()};a.Vd.prototype.bk=function(){return this.C.hA()};a.Vd.prototype.ac=function(){this.C&&this.C.ac()};a.Vd.prototype.Rb=function(){this.C&&this.C.Rb()};a.lc=function(c,b,d){a.lc.O.constructor.call(this,c,b,d)};a.f.xa(a.lc,a.Vd,"oj.TableDataSourceContentHandler");a.lc.prototype.Init=function(){a.lc.O.Init.call(this)};a.lc.prototype.tl=
function(){return!1};a.lc.prototype.Oh=function(){a.lc.O.Oh.call(this);this.qH();null!=this.nD&&(this.nD.destroy(),this.O3=this.nD=null);this.dJ=null};a.lc.prototype.rl=function(a,b){this.ei()&&void 0!=this.Nv&&this.Nv!=b&&(this.Nv=b,this.checkViewport())};a.lc.prototype.zD=function(){this.ei()&&this.checkViewport()};a.lc.prototype.ei=function(){return"loadMoreOnScroll"==this.C.options.scrollPolicy?!0:!1};a.lc.prototype.Vp=function(){return Math.max(0,this.C.options.scrollPolicyOptions.fetchSize)};
a.lc.prototype.$p=function(){var c=this.C.options.scrollPolicyOptions.scroller;return null!=c&&g.contains(c,this.fa)?(this.vx=a.Sf.fOa(c,this.fa),c):this.C.Pj()};a.lc.prototype.UX=function(){return this.C.options.scrollPolicyOptions.maxCount};a.lc.prototype.bqa=function(c){var b;this.qH();if(null!=c){this.ei()&&(b=this,this.O3=function(a){null!=a?(b.ac(),b.M_(),b.Xz()&&b.ac(),b.TY(a),a.maxCountLimit?b.ZY():b.S9(),b.Rb(),b.Rb()):void 0===a&&(b.M_(),b.Rb())},this.nD=new a.Sf(this.$p(),c,{fetchSize:this.Vp(),
fetchTrigger:this.vx,maxCount:this.UX(),success:this.O3,error:this.Rb}),this.nD.$Y=function(c,e){1>=e-c&&b.ac();a.Sf.prototype.$Y.call(this,c,e)});this.Aoa=this.RQa.bind(this);this.zoa=this.QQa.bind(this);this.voa=this.MQa.bind(this);this.yoa=this.OQa.bind(this);this.woa=this.NQa.bind(this);this.fR=this.PQa.bind(this);if(a.Ma&&c instanceof a.Ma)c.on("sync",this.Aoa);c.on("sort",this.zoa);c.on("add",this.voa);c.on("remove",this.yoa);c.on("change",this.woa);c.on("reset",this.fR);c.on("refresh",this.fR)}this.gb=
c};a.lc.prototype.S9=function(){var a,b;null==this.dJ&&(a=g(document.createElement("li")),a.uniqueId().attr("role","presentation").addClass(this.C.eg()).addClass("oj-listview-loading-icon-container"),b=g(document.createElement("div")),b.addClass("oj-icon oj-listview-loading-icon"),a.append(b),g(this.fa).append(a),this.dJ=a)};a.lc.prototype.M_=function(){null!=this.dJ&&this.dJ.remove();this.dJ=null};a.lc.prototype.Ny=function(c,b){var d;a.lc.O.Ny.call(this,c,b);g(c).addClass(this.C.eg());this.C.Pc()&&
this.RQ(b)&&this.C.Kf(g(c)).attr("aria-selected",!1);this.ei()&&(d=Math.min(this.gb.totalSize(),this.UX()),-1===d&&(d=this.UX()),0<d&&g(c).attr("aria-setsize",d).attr("aria-posinset",b.index+1));this.C.hz(c,b)};a.lc.prototype.ENa=function(a,b){var d,e;this.ac();this.Ny(a,b);d=g(a);d.outerHeight();e=this.C.eg();d.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e");d.removeClass(e).addClass("oj-listview-item-add-remove-transition");d.children().first().addClass(e);this.ac();var f=this;this.C.Hw(a,"add").then(function(){f.hDa(b,
a)});this.Rb()};a.lc.prototype.ZY=function(){a.F.error("max count reached")};a.lc.prototype.qH=function(){null!=this.gb&&(this.gb.off("sync",this.Aoa),this.gb.off("sort",this.zoa),this.gb.off("add",this.voa),this.gb.off("remove",this.yoa),this.gb.off("change",this.woa),this.gb.off("reset",this.fR),this.gb.off("refresh",this.fR))};a.lc.prototype.XLa=function(a){return this.ei()&&null!=a&&a.keys&&0<a.keys.length&&(-1==this.gb.totalSize()||this.gb.totalSize()>a.keys.length)};a.lc.prototype.Kq=function(c){var b=
!0,d;this.ac();if(this.Xz()&&(this.vd=!0,a.lc.O.Kq.call(this,c),a.Ma&&this.gb instanceof a.Ma&&(b=!1,this.ac()),b||c)){b&&this.ac();c={fetchType:"init",startIndex:0};this.ei()&&(c.pageSize=this.Vp());d=this;c=this.gb.fetch(c);c.then(function(a){null!=d.C&&b&&(g(d.fa).empty(),d.TY(a),d.XLa(a)&&(d.S9(),d.C.aS()))},function(a){d.ms(a);d.Rb()});this.Rb();return}this.Rb()};a.lc.prototype.ms=function(c){a.F.error(c);this.ei()&&this.M_();this.C.bw()};a.lc.prototype.Cu=function(a,b){var d,e,f;d=this.fa.childElementCount;
for(e=0;e<a.length;e++)f=a[e],this.J1(this.fa,d,f,this.getMetadata(d,b[e],f)),d+=1};a.lc.prototype.MQa=function(a){var b,d,e;if(null!=this.fa){this.ac();b=a.data;d=a.keys;a=a.indexes;if(null!=b&&null!=d&&0<d.length&&0<b.length&&d.length==b.length&&null!=a&&d.length==a.length){for(e=0;e<b.length;e++)this.ac(),this.J1(this.fa,a[e],b[e],this.getMetadata(a[e],d[e],b[e]),this.ENa.bind(this)),this.Rb();this.Xz()&&this.ac();this.Ula()}this.Rb()}};a.lc.prototype.hDa=function(a,b){null!=this.C&&(g(b).removeClass("oj-listview-item-add-remove-transition").addClass(this.C.eg()).children().children().unwrap(),
this.C.doa(b,a));this.Rb()};a.lc.prototype.OQa=function(a){var b,d;a=a.keys;if(null!=this.fa&&null!=a&&0!=a.length){this.ac();for(b=0;b<a.length;b++)d=this.Se(a[b]),null!=d&&(this.ac(),this.IJa(d),this.Rb());this.C.jw();this.Rb()}};a.lc.prototype.IJa=function(a){var b,d=this;this.ac();b=this.C.eg();a=g(a);a.children().wrapAll("\x3cdiv class\x3d'"+b+"'\x3e\x3c/div\x3e");a.removeClass(b).addClass("oj-listview-item-add-remove-transition");this.ac();b=a.get(0);this.C.Hw(b,"remove").then(function(){d.REa(a)});
this.Rb()};a.lc.prototype.REa=function(a){if(null!=this.C){a=g(a);var b=a.parent();0!=b.length&&(this.C.z3(a.get(0)),a.remove(),0==b.get(0).childElementCount&&this.C.bw())}this.Rb()};a.lc.prototype.NQa=function(a){var b,d,e,f;b=a.keys;if(null!=this.fa&&null!=b&&0!=b.length){this.ac();d=a.data;a=a.indexes;for(e=0;e<b.length;e++)f=this.Se(b[e]),null!=f&&(this.ac(),this.$Sa(f,a[e],d[e],this.getMetadata(a[e],b[e],d[e]),this.DNa.bind(this)),this.Rb());this.C.jw();this.Rb()}};a.lc.prototype.DNa=function(a,
b){var d=this;this.ac();this.Ny(a,b);this.C.Hw(a,"update").then(function(){d.SEa(a)});this.Rb()};a.lc.prototype.SEa=function(a){null!=this.C&&(g(a).removeClass("oj-listview-item-add-remove-transition"),this.C.iTa());this.Rb()};a.lc.prototype.PQa=function(){null!=this.fa&&(this.ac(),this.C.jw(),this.Kq(!0),this.Rb())};a.lc.prototype.TY=function(a){var b;null!=this.fa&&(b=a.data,a=a.keys,Array.isArray(b)&&Array.isArray(a)&&b.length==a.length&&(this.Cu(b,a),this.Ula()))};a.lc.prototype.RQa=function(a){null!=
this.fa&&(this.ac(),0===a.startIndex&&g(this.fa).empty(),this.C.jw(),this.TY(a),this.Rb())};a.lc.prototype.QQa=function(){null!=this.fa&&(this.ac(),this.C.jw(),this.C.yo()&&this.C.Ol(!0),this.Kq(!0),this.Rb())};a.lc.prototype.Ula=function(){this.vd=!1;this.C.bw();this.checkViewport();this.Rb()};a.lc.prototype.checkViewport=function(){var a=this,b;this.ac();null!=this.nD&&0<this.gb.totalSize()&&this.Xz()&&(b=this.nD.checkViewport(),null!=b&&(this.ac(),b.then(function(b){a.O3(b);a.Rb()},null)));this.Rb()};
a.lc.prototype.getMetadata=function(a,b,d){d=d.context;null==d&&(d={});null==d.index&&(d.index=a);null==d.key&&(d.key=b);return d};a.wj=function(c,b,d){a.wj.O.constructor.call(this,c,b,d)};a.f.xa(a.wj,a.Vd,"oj.TreeDataSourceContentHandler");a.wj.prototype.Init=function(){a.wj.O.Init.call(this)};a.wj.prototype.tl=function(){return!0};a.wj.prototype.Kq=function(c){this.ac();a.wj.O.Kq.call(this,c);this.fetchChildren(0,null,this.fa,null);this.Rb()};a.wj.prototype.fetchChildren=function(a,b,d,e){this.ac();
this.vd=!0;a={start:a,count:this.gb.getChildCount(b)};this.gb.fetchChildren(b,a,{success:function(a){this.Cu(a,b,d,e)}.bind(this),error:function(a){this.ms(a)}.bind(this)});this.Rb()};a.wj.prototype.Cu=function(a,b,d,e){var f,h,k,l,m;this.ac();f=a.getStart();h=a.getCount();for(k=0;k<h;k++)l=a.getData(f+k),m=a.getMetadata(f+k),this.J1(d,f+k,l,m);this.bk()&&this.Fh()&&null!=b&&1<h&&g(d.parentNode.firstElementChild.firstElementChild).attr("aria-colspan",h);this.vd=!1;null!=e&&e.call(null,d);this.C.bw();
this.dj=!0;this.Rb()};a.wj.prototype.Ny=function(c,b){var d,e,f,h,k,l;this.ac();a.wj.O.Ny.call(this,c,b);d=this.C.fh();e=this.C.eg();f=this.C.dg(!0);h=this.C.Zy();l=this.C.So();k=this.C.kn();c=g(c);!1==b.leaf?(c.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e"),c.hasClass(k)?c.removeClass(k).children().first().addClass(k).attr("aria-expanded","false"):c.children().first().attr("role","presentation").find("."+k).attr("aria-expanded","false"),e=c.children().first(),e.uniqueId().addClass(f),this.C.gD()&&
(c.addClass("oj-collapsed"),f=document.createElement("a"),g(f).attr("href","#").attr("aria-labelledby",e.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),e.prepend(f)),this.bk()&&(e.get(0).removeAttribute("aria-expanded"),e.removeClass(k),e.attr("role","row"),e.children().wrapAll("\x3cdiv role\x3d'gridcell' aria-expanded\x3d'false' class\x3d'oj-listview-cell-element "+k+"'\x3e\x3c/div\x3e")),k=document.createElement("ul"),g(k).addClass(d).addClass(h).attr("role",this.bk()?
this.Fh()?"row":"presentation":"group"),c.append(k)):!0==b.leaf&&c.addClass(e);this.C.Pc()&&this.RQ(b)&&this.C.Kf(c).attr("aria-selected",!1);this.C.hz(c[0],b);this.Rb()};a.wj.prototype.ms=function(c){this.ac();a.F.error(c);this.C.bw();this.Rb()};a.wj.prototype.Tz=function(a,b){var d,e;this.ac();d=this.og(a[0]);e=a.children("ul")[0];this.fetchChildren(0,d,e,b);this.Rb()};a.wj.prototype.Rz=function(a){a.empty()};a.Yd=function(a,b){this.C=a;this.fa=b};a.f.xa(a.Yd,a.f,"oj.StaticContentHandler");a.Yd.prototype.Init=
function(){a.Yd.O.Init.call(this)};a.Yd.prototype.Oh=function(){this.fa.hasAttribute("role")&&(this.Spa(this.fa,0),this.hUa(),this.bk()&&this.Fh()&&!this.tl()&&g(this.fa).children().first().children().unwrap().children().unwrap())};a.Yd.prototype.Xz=function(){return!0};a.Yd.prototype.rl=function(){};a.Yd.prototype.zD=function(){};a.Yd.prototype.q6=function(){var a=this.fa;this.bk()&&this.Fh()&&!this.tl()&&(g(this.fa).children().wrapAll("\x3cli role\x3d'presentation'\x3e\x3cul role\x3d'row' class\x3d'"+
this.C.fh()+"'\x3e\x3c/ul\x3e\x3c/li\x3e"),a=g(this.fa).children("li").first().children("ul").first().get(0));this.$oa(a,0);this.F4();this.C.bw()};a.Yd.prototype.Tz=function(a,b){var d;d="."+this.C.fh();d=g(a).children(d)[0];g(d).css("display","");b.call(null,d)};a.Yd.prototype.Rz=function(){};a.Yd.prototype.tl=function(){null==this.T3&&(this.T3=0<g(this.fa).children("li").children("ul").length);return this.T3};a.Yd.prototype.Spa=function(a,b){var d,e,f,h,k,l,m,p,t,r;d=this.C.fh();e=this.C.Zy();f=
this.C.OC();h=this.C.dg(!0);k=this.C.eg();l=this.C.Dg();m=a.children;for(p=0;p<m.length;p++)t=m[p],this.fUa(t),t=g(t),t.removeClass(l).removeClass(k).removeClass(this.C.G2(b)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),r=t.children("ul"),0<r.length&&(t.children("."+h).children().unwrap(),this.bk()&&this.gUa(t),t.children(".oj-component-icon").remove(),t=g(r[0]),t.removeClass(d).removeClass(f).removeClass(e).removeAttr("role"),
this.Spa(t[0],b+1))};a.Yd.prototype.$oa=function(a,b){var d,e,f,h,k,l,m,p,t,r,n,s,q,u,v,w;d=this.C.eg();e=this.C.Dg();f=this.C.fh();h=this.C.dg(!0);k=this.C.Zy();l=this.C.So();m=this.C.kn();p=a.children;t=this.C.gD();for(r=0;r<p.length;r++)n=g(p[r]),s=this.d2(n),this.tTa(n,s),n.uniqueId().addClass(e),0<b&&n.addClass(this.C.G2(b)),this.hD(s)||n.addClass("oj-skipfocus"),q=n.children("ul"),0<q.length?(this.T3=!0,n.children(":not(ul)").wrapAll("\x3cdiv\x3e\x3c/div\x3e"),u=n.children().first(),u.addClass(h),
w=this.IPa(q[0]),0<w&&(n.hasClass(m)?(n.removeClass(m),u.addClass(m).attr("aria-expanded","false")):(u.attr("role","presentation"),u.find("."+m).attr("aria-expanded","false")),t&&(n.addClass("oj-collapsed"),u.uniqueId(),v=document.createElement("a"),g(v).attr("href","#").attr("role","button").attr("aria-labelledby",u.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),u.prepend(v))),this.bk()&&this.xTa(u,w),q=g(q[0]),q.addClass(f).addClass(k).attr("role",this.bk()?this.Fh()?
"row":"presentation":"group").css("display","none"),this.$oa(q[0],b+1)):n.addClass(d),this.C.Pc()&&this.RQ(s)&&this.C.Kf(n).attr("aria-selected",!1),this.C.hz(n[0],s)};a.Yd.prototype.F4=function(){this.bk()?this.fa.setAttribute("role","grid"):this.tl()?this.fa.setAttribute("role","tree"):this.fa.setAttribute("role","listbox")};a.Yd.prototype.hUa=function(){this.fa.removeAttribute("role")};a.Yd.prototype.IPa=function(a){return g(a).children("li").length};a.Yd.prototype.d2=function(a){var b;b={};b.key=
a.attr("id");b.parentElement=a.children().first()[0];b.index=a.index();b.data=a[0];b.component=this.C.md();this.tl()&&(b.leaf=0==a.children("ul").length,a=a.parents("li."+this.C.Dg()),b.depth=a.length,b.parentKey=0==a.length?null:a.first().attr("id"));return b};a.Yd.prototype.tTa=function(a,b){var d=this.C.tQ(a);this.bk()?void 0==b.leaf||b.leaf?this.Fh()?d.attr("role","gridcell"):(a.attr("role","row"),d!=a?d.attr("role","gridcell"):d.children().wrapAll("\x3cdiv role\x3d'gridcell' class\x3d'oj-listview-cell-element'\x3e\x3c/div\x3e")):
(a.attr("role","presentation"),d!=a&&d.attr("role","gridcell")):(d.attr("role",this.tl()?"treeitem":"option"),d!=a&&a.attr("role","presentation"));d.addClass(this.C.kn())};a.Yd.prototype.xTa=function(a,b){var d=this.C.kn();a.get(0).removeAttribute("aria-expanded");a.removeClass(d);a.attr("role","row");a.children().wrapAll("\x3cdiv role\x3d'gridcell' aria-expanded\x3d'false' class\x3d'oj-listview-cell-element "+d+"'\x3e\x3c/div\x3e");this.Fh()&&1<b&&a.children().first().attr("aria-colspan",b)};a.Yd.prototype.gUa=
function(a){a.children("div").first().children().unwrap()};a.Yd.prototype.fUa=function(a){var b=this.C.tQ(g(a));b.removeAttr("role");b.removeAttr("aria-selected");b.removeAttr("aria-expanded");b.removeClass(this.C.kn());this.bk()&&!this.Fh()&&(b!=a?(g(a).removeAttr("role"),b.children().first().children().unwrap()):b.children().first().children().unwrap().children().unwrap())};a.Yd.prototype.og=function(a){return g(a).attr("id")};a.Yd.prototype.Se=function(a){return document.getElementById(a)};a.Yd.prototype.hD=
function(a){return this.C.K2(a)};a.Yd.prototype.RQ=function(a){return this.C.Ema(a)};a.Yd.prototype.Fh=function(){return this.C.Fh()};a.Yd.prototype.bk=function(){return this.C.hA()};a.h_=function(c,b){function d(){}a.f.xa(d,c,"");d.prototype=g.extend(d.prototype,b);return d}(Object,{Ze:37,Tf:39,ql:40,Cl:38,lK:9,xS:13,zS:27,AS:113,hT:32,Tn:0,Sn:1,r6:2,rUa:0,uw:1,mn:function(c){var b=this,d;this.ir=[];this.element=c.element;this.ac();this.ea=c.ea;this.Xd=c.Xd;this.options=c;this.element.uniqueId().addClass(this.JS()+
" oj-component-initnode");this.kK();"undefined"!=typeof a.jb&&(this.Nf=d=new a.jb(this),this.ea._on(this.element,{dragstart:function(a){return d.OY(a)},dragenter:function(a){return d.LY(a)},dragover:function(a){return d.NY(a)},dragleave:function(a){return d.MY(a)},dragend:function(a){return d.KY(a)},drag:function(a){return d.EDa(a)},drop:function(a){return d.PY(a)}}));this.ea._on(this.element,{click:function(a){b.RS(a)},touchstart:function(a){b.TJ(a)},touchend:function(a){b.aE(a)},touchcancel:function(a){b.aE(a)},
mousedown:function(a){0===a.button?b.zha()||b.TJ(a):b.hJ=!0},mouseup:function(a){b.uea(a);b.hJ=!1},mouseout:function(a){b.sea(a)},mouseover:function(a){b.IEa(a)},keydown:function(a){b.SJ(a)},ojpanmove:function(a){b.uea(a)}});this.ea._on(this.ea.element,{focus:function(a){b.sr(a)},blur:function(a){b.rr(a)}});a.Sa.en().browser===a.Sa.lj.NJ&&this.Xg().attr("tabIndex",-1);this.uw===this.uw?this.ea._on(this.ea.element,{focusin:function(a){b.sr(a)},focusout:function(a){b.Ira(a)}}):this.ea._on(this.element,
{focus:function(a){b.sr(a)},blur:function(a){b.rr(a)}});this.ea.document.bind("touchend.ojlistview touchcancel.ojlistview",this.aE.bind(this));this.Mha();this.ea._focusable({applyHighlight:!0,recentPointer:b.p6(),setupHandlers:function(a,c){b.jB=a;b.yx=c}})},zC:function(){var a;this.dxa();this.Yt();this.afa();a=this.Xg();this.Eo(a[0]);this.Rb()},refresh:function(){this.hia();this.ac();this.hK();this.Yt();this.afa();this.Mha();this.Rb()},whenReady:function(){return this.Gpa},destroy:function(){this.element.removeClass(this.JS()+
" oj-component-initnode");this.xq(this.Xg());this.hia();a.Q.unwrap(this.element,this.Xg());this.ea.document.off(".ojlistview")},hia:function(){var a=this;this.K6();this.Dxa(this.element);null!=this.Mf&&(this.Mf.Oh(),delete this.Mf,this.Mf=null);this.Mv=this.V=null;this.ir=[];this.Gpa=new Promise(function(b){a.Hpa=b});this.jw();this.ov&&(this.ov(null),this.ov=null);null!=this.Nf&&this.Nf.reset()},CR:function(){this.aS()},ipa:function(){this.Xg().removeClass("oj-focus-ancestor");null!=this.V&&g(this.V.elem).removeClass("oj-focus oj-focus-highlight");
null!=this.U3&&this.Es(this.U3,"oj-hover")},zD:function(){this.aS();null!=this.Mf&&this.Mf.zD()},getNodeBySubId:function(a){var b;if(null==a)return this.element?this.element[0]:null;b=a.subId;if("oj-listview-disclosure"===b||"oj-listview-icon"===b)if(a=a.key,a=this.Se(a),null!=a&&(a=g(a).find(".oj-clickable-icon-nocontext").first(),a.hasClass(this.Us())||a.hasClass(this.So())))return a.get(0);return null},getSubIdByNode:function(a){if(null!=a&&g(a).hasClass(this.Us())||g(a).hasClass(this.So()))if(a=
this.On(a),null!=a&&0<a.length&&(a=this.og(a[0]),null!=a))return{subId:"oj-listview-disclosure",key:a};return null},getContextByNode:function(a){var b,d,e;a=this.On(a);return null!=a&&0<a.length&&(b=this.og(a[0]),null!=b)?(d=a.parent(),e=d.children("li").index(a),b={subId:"oj-listview-item",key:b,index:e},d.get(0)!=this.element.get(0)&&(b.parent=d.parent().get(0)),a.children().first().hasClass(this.dg())?b.group=!0:b.group=!1,b):null},getDataForVisibleItem:function(a){var b;b=a.index;a=a.parent;a=
null==a?this.element.get(0):g(a).children("ul."+this.fh()).first();b=g(a).children("li").get(b);return null!=b&&g(b).hasClass(this.eg())?this.tca(b):null},tca:function(a){return null==this.Jd("data")?a:g.data(a,"data")},Yt:function(a){null!=this.Nf&&this.Nf.ANa(a)},xq:function(c){c&&this.Bh&&a.Q.Gn(c,this.Bh)},Eo:function(c){c&&(null==this.Bh&&(this.Bh=this.rl.bind(this)),a.Q.bm(c,this.Bh))},rl:function(a,b){0<a&&0<b&&null!=this.Mf&&this.Mf.rl(a,b)},nsa:function(){return!0},p6:function(){return function(){return!1}},
D6:function(a){return null!=a.data||null!=a.drillMode||null!=a.groupHeaderPosition||null!=a.item||null!=a.scrollPolicy||null!=a.scrollPolicyOptions},UR:function(a){var b,d,e;if(this.D6(a))return null!=a.data&&(null==a.currentItem&&this.uj("currentItem",null),null==a.selection&&this.Ol(!0)),!0;if(null!=a.expanded&&this.Mf.tl()&&(this.Mp=void 0,d=a.expanded,Array.isArray(d))){this.ac();this.Yxa();this.Tea=!0;try{b=this,g.each(d,function(a,c){b.p2(c,!0,!0,!0)})}finally{this.Tea=void 0,this.Rb()}}null!=
a.currentItem?(d=this.Se(a.currentItem),null!=d&&(d=g(d),this.vj(d)||((e=document.activeElement)&&this.element.get(0).contains(e)?this.om(d,null):this.Yc(d,null,!0)))):null===a.currentItem&&(this.nE(),this.V=null,this.kK());this.UJ(a);null!=a.selectionMode&&(this.Ol(!0),this.hK(),this.vsa(a.selectionMode));null!=a.contextMenu&&this.Yt(a.contextMenu);null!=a.scrollTop&&(d=this.$p(),e=a.scrollTop,null==e||isNaN(e)||(d.scrollTop=e));null!=this.Nf&&null!=this.V&&null!=a.dnd&&null!=a.dnd.reorder&&("enabled"===
a.dnd.reorder.items?this.Nf.Wia(this.V.elem):"disabled"===a.dnd.reorder.items&&this.Nf.WMa(this.V.elem));return!1},UJ:function(a){var b,d;if(null!=a.selection&&this.Pc())for(a.selection=this.FAa(a.selection),b=a.selection,this.Ol(!1),d=0;d<b.length;d++)a=this.Se(b[d]),null!=a&&this.ZE(a,b[d])},Bl:function(a,b,d){return this.ea._trigger(a,b,d)},uj:function(a,b,d){this.ea.option(a,b,d)},Jd:function(a){return this.ea.option(a)},ac:function(){var c=this,b;this.ir&&(0==this.ir.length&&(this.Gpa=new Promise(function(a){c.Hpa=
a}),b=a.Context.getContext(this.element[0]).Mj(),c.ov=b.Jj({})),this.ir.push(1))},Rb:function(){this.ir&&0<this.ir.length&&(this.ir.pop(),0==this.ir.length&&(this.Hpa(null),this.ov(null),this.ov=null))},Eqa:function(a){if(this.ir)for(;0<this.ir.length;)this.Rb();throw a;},HPa:function(a){var b,d=this,e=[];g.each(a,function(a,c){b=d.Se(c);null!=b&&e.push(b)});return e},Fh:function(){return this.element.hasClass("oj-listview-card-layout")},hA:function(){return!0},afa:function(){var c;this.ac();c=this.Jd("data");
null!=c?("undefined"!==typeof a.ha&&"undefined"!==typeof a.Kt||this.Eqa("oj.TableDataSource or oj.TreeDataSource not found. Ensure the required modules are imported"),c instanceof a.ha?this.Mf=new a.lc(this,this.element[0],c):c instanceof a.Kt?this.Mf=new a.wj(this,this.element[0],c):this.Eqa("Invalid data")):this.Mf=new a.Yd(this,this.element[0]);this.LD();this.Mf.q6();this.Rb()},usa:function(a){this.element.attr("aria-activedescendant",a.attr("id"))},hK:function(){this.element.attr("aria-activedescendant",
"");this.yo()?this.element.attr("aria-multiselectable",!0):this.Pc()&&this.element.attr("aria-multiselectable",!1)},K6:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},vsa:function(a){var b=this,d,e;"none"==a?(this.element.removeAttr("aria-multiselectable"),a=function(a){b.Kf(a).removeAttr("aria-selected")}):("single"==a?this.element.attr("aria-multiselectable",!1):this.element.attr("aria-multiselectable",!0),a=function(a){b.Kf(a).attr("aria-selected",
"false")});d=this.ds();for(e=0;e<d.length;e++)a(g(d[e]))},dxa:function(){var a,b;a=this.Xg();this.hK();b=this.gxa();a.append(b);this.An=b;b=this.Ywa();a.append(b);this.iD=b;this.Um()&&null!=this.Nf&&a.append(this.Zwa())},gxa:function(){var a=g(document.createElement("div"));a.addClass("oj-listview-status-message oj-listview-status").attr({id:this.qx("status"),role:"status"});return a},Ywa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.qx("info"),
role:"status"});return a},Zwa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.qx("instr")});a.text(this.ea.R("accessibleReorderTouchInstructionText"));return a},Ch:function(a){""!=a&&this.iD.text()!=a&&this.iD.text(a)},LD:function(){var a=this.ea.R("msgFetchingData");this.An.text(a).css("left",this.element.outerWidth()/2-this.An.outerWidth()/2).show()},Ys:function(){this.An.hide()},Pj:function(){return this.Xg()},Xg:function(){null==this.RI&&
(this.RI=this.Kya());return this.RI},Kya:function(){var a;this.Xd?a=g(this.Xd):(a=g(document.createElement("div")),this.element.parent()[0].replaceChild(a[0],this.element[0]));a.addClass(this.B5()).addClass("oj-component");a.prepend(this.element);return a},zca:function(){return this.ea.R("msgNoData")},gF:function(){var a,b;a=this.zca();b=document.createElement("li");b.id=this.qx("empty");b.className="oj-listview-no-data-message oj-listview-empty-text";b.textContent=a;return b},Rh:function(a){a=this.Kf(a).attr("aria-expanded");
return"true"==a?this.Tn:"false"==a?this.Sn:this.r6},Gw:function(a,b){var d=this.gD();b==this.Tn?(this.Kf(a).attr("aria-expanded","true"),d&&a.removeClass("oj-collapsed").addClass("oj-expanded")):b==this.Sn&&(this.Kf(a).attr("aria-expanded","false"),d&&a.removeClass("oj-expanded").addClass("oj-collapsed"))},PX:function(a,b,d){a=this.options.item[a];return"function"==typeof a&&d?a.call(this,b):a},K2:function(a){return this.PX("focusable",a,!0)},Ema:function(a){return this.K2(a)&&this.PX("selectable",
a,!0)},TBa:function(){var a=this.PX("renderer",null,!1);return"function"!=typeof a?null:a},doa:function(){},z3:function(a){var b;null!=this.V&&this.V.elem&&g(this.V.elem).get(0)==a&&this.uj("currentItem",null);if(null!=a&&a.id&&null!=this.Yq)for(b in this.Yq)if(this.Yq.hasOwnProperty(b)&&this.Yq[b]===a.id){delete this.Yq[b];break}},hz:function(a,b){var d,e,f,h;null!=this.Nf&&this.Nf.hz(a);this.BF(a);if(this.Pc())if(d=this.Jd("selection"),this.ul(a))for(f=0;f<d.length;f++){if(d[f]==b.key&&(this.ZE(a,
d[f]),!this.yo())){1<d.length&&(e=g(this.Se(b.key)),this.uj("selection",[b.key],{_context:{originalEvent:null,kb:!0,Wk:{items:e}},changed:!0}));break}}else if(f=d.indexOf(b.key),-1<f){d=d.slice(0);d.splice(f,1);e=Array(d.length);for(f=0;f<d.length;f++)e[f]=this.Se(d[f]);this.uj("selection",d,{_context:{originalEvent:null,kb:!0,Wk:{items:g(e)}},changed:!0})}this.Mf.tl()&&void 0==this.Tea&&this.Rh(g(a))==this.Sn&&(f=this.Jd("expanded"),this.EB()?void 0==this.Mp&&this.tw(g(a),null,!1,null,!1,!1,!1):
Array.isArray(f)&&(h=this,g.each(f,function(d,e){e!=b.key||void 0!=h.Mp&&-1!=h.Mp.indexOf(e)||h.tw(g(a),null,!1,null,!1,!1,!1)})));null!=this.V&&b.key==this.V.key&&null!=this.V.elem&&a!=this.V.elem.get(0)&&(this.V.elem=g(a))},bw:function(){var a,b;this.Ys();g(document.getElementById(this.qx("empty"))).remove();0==this.element[0].childElementCount?(a=this.gF(),this.element.append(a)):(this.rD=null,a=this.Jd("currentItem"),null!=a&&(b=this.Se(a),null==b?this.uj("currentItem",null):null!=this.V||this.vj(g(b))||
this.om(g(b),null)),this.Xg().hasClass("oj-focus-ancestor")&&null==this.V&&null==a&&this.ffa(),this.aS());this.Bl("ready",null,{})},aS:function(){var a,b;a=this.Jd("scrollTop");if(!isNaN(a)&&(b=this.$p(),a!=b.scrollTop&&(b.scrollTop=a,b.scrollTop!=a))){this.H0=!0;return}this.H0=!1},iTa:function(){var a=this.Jd("currentItem");null!=a&&(a=this.Se(a),null==a||this.vj(g(a))||this.om(g(a),null))},jw:function(){this.S3=this.rD=null},Hw:function(c,b,d){null==d&&(d=this.Uy(b));return a.ga.Hn(c,b,d,this.ea)},
hpa:function(a,b,d){if(this.XJ(g(b.target)))return!1;a=g(b.target).closest("."+this.Dg());0<a.length&&!this.vj(g(a[0]))&&this.om(g(a[0]),null);a=this.element;null!=this.V&&(a=this.V.elem);a={launcher:a,initialFocus:"menu"};"keyboard"===d&&(a.position={my:"start top",at:"start bottom",of:this.V.elem});this.ea.di(b,d,a)},O5:function(a){return null!=a.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},XJ:function(a){for(;null!=a&&a[0]!=this.element[0]&&"LI"!=a.prop("nodeName");){if(3!=
a[0].nodeType){var b=a.attr("tabIndex"),d=a.attr("data-oj-tabindex");if(null!=b&&0<=b&&!a.hasClass(this.kn())&&!a.hasClass("oj-listview-cell-element")||this.O5(a)&&(-1!=b||-1!=d))return!0}a=a.parent()}return!1},BF:function(a,b){var d,e;d=g(a);d.hasClass(this.eg())||(d=g(d.get(0).firstElementChild));d.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){g(this).removeAttr("data-first").removeAttr("data-last");e=parseInt(g(this).attr("tabIndex"),10);!(isNaN(e)||
0<=e)||void 0!==b&&this==document.activeElement||g(this).attr("tabIndex",-1).attr("data-tabmod",isNaN(e)?-1:e)})},Eza:function(a){var b,d;b=this.ds();a=b.index(a);for(d=0;d<=a;d++)this.BF(b[d],!0)},Dza:function(a){var b;b=this.ds();a=b.index(a);if(-1!=a)for(;a<=b.length-1;a++)this.BF(b[a],!0)},kAa:function(a){var b;a=g(a).find("[data-tabmod]").each(function(){b=parseInt(g(this).attr("data-tabmod"),10);g(this).removeAttr("data-tabmod");-1==b?g(this).removeAttr("tabIndex"):g(this).attr("tabIndex",b)});
a.first().attr("data-first","true");a.last().attr("data-last","true")},Dxa:function(a){g(a).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},vj:function(a){return a.hasClass("oj-skipfocus")},BZ:function(a){return void 0===a.relatedTarget||null!=a.relatedTarget&&g.contains(this.ea.element.get(0),a.relatedTarget)?!0:!1},sr:function(a){var b;this.Xg().addClass("oj-focus-ancestor");null==this.V?(b=this.Vg(g(a.target)),this.hJ||this.BZ(a)||
null!=b&&!this.vj(b)||this.ffa(a)):(this.hJ||a.target!==this.ea.element[0]||this.BZ(a)||(this.Vz(),this.LF(this.V.elem)),this.cT(),this.u0(this.V.elem))},ffa:function(a){var b,d,e;b=this.ds();for(d=0;d<b.length;d++)if(e=g(b[d]),!this.vj(e)){this.om(e,a);break}},Ira:function(a){this.rr(a)},oMa:function(){var c=a.Sa.en();return c.browser==a.Sa.lj.NJ&&48>parseInt(c.browserVersion,10)?!1:!0},vGa:function(c){var b=a.Sa.en();return null==c.relatedTarget&&b.browser==a.Sa.lj.cE&&c.target==this.ea.element.get(0)?
!0:!1},rr:function(a){!this.oMa()||this.vGa(a)||this.BZ(a)||(this.Xg().removeClass("oj-focus-ancestor"),this.nE(),null!=this.V&&this.lia(this.V.elem),this.kK())},sea:function(a){a=this.On(a.target);null!=a&&(this.U3=null,this.Es(a,"oj-hover"))},IEa:function(a){this.zha()||(a=this.On(a.target),null==a||this.vj(a)||(this.U3=a,this.RN(a,"oj-hover")))},zha:function(){return 500>Date.now()-this.aHa},SJ:function(a){var b,d;if(this.gD()&&(b=a.keyCode,b===this.Ze||b===this.Tf))if(d=this.V.elem,b===this.Ze){if(this.Rh(d)==
this.Tn){this.Ct(d,a,!0,this.V.key,!0,!0);return}}else if(this.Rh(d)==this.Sn){this.tw(d,a,!0,this.V.key,!0,!0,!0);return}b=this.L5(a);null!=this.Nf&&(b=b||this.Nf.SJ(a));!0===b&&a.preventDefault()},uea:function(a){this.qz&&this.Es(this.qz,"oj-focus");null!=this.Nf&&this.Nf.uka(g(a.target))},TJ:function(a){var b,d;d=g(a.target);null!=this.Nf&&this.Nf.Sia(d);b=this.Vg(d,!0);null!=b&&this.wfa(b)&&(this.hJ=!0,b=null);null==b||0==b.length||this.vj(b)||d.hasClass("oj-listview-drag-handle")||(this.hJ=!0,
this.Xg().hasClass("oj-focus-ancestor")||this.Xg().addClass("oj-focus-ancestor"),this.qz=b,this.RN(b,"oj-focus"),this.QZ(null!=this.V?this.V.elem:null,b),b.get(0).contains(document.activeElement)||this.LF(b),a.originalEvent.touches&&0<a.originalEvent.touches.length&&(this.uR={x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}))},aE:function(a){var b,d;null!=this.qz&&(this.Es(this.qz,"oj-focus"),null!=this.uR&&(b=this.qz.offset(),d=this.Uy("pointerUp"),d.offsetX=this.uR.x-
b.left+"px",d.offsetY=this.uR.y-b.top+"px",b=this.qz.children("."+this.dg()),b=0<b.length?b.get(0):this.Kf(this.qz).get(0),this.Hw(b,"pointerUp",d),this.uR=null));this.aHa=Date.now();this.sea(a)},FF:function(){var a;a=this.V.elem;this.BF(a);this.kAa(a);0<a.find("[data-first]").length&&this.Jia(!0)},pu:function(){this.Jia(!1);this.BF(this.V.elem)},RS:function(a){var b,d,e,f;0===a.button&&(b=this.So(),d=this.Us(),e=this.dg(),f=g(a.target),f.hasClass(d)?(this.Pl(a),a.preventDefault()):f.hasClass(b)?
(this.pf(a),a.preventDefault()):(b=this.Vg(f),null==b||0==b.length||this.vj(b)||(this.vfa()&&null!=this.V&&this.V.elem.get(0)!=b.get(0)&&this.pu(),this.Xg().hasClass("oj-focus-ancestor")||this.Xg().addClass("oj-focus-ancestor"),this.Pc()&&this.ul(b[0])?(this.Um()?this.hFa(b,a):this.Hra(b,a),this.hA()&&a.target==b.get(0)&&this.LF(b),null!=this.Nf&&this.Nf.CTa()):this.J5(b,a),this.AGa(f.get(0))?this.FF():this.gD()&&f.closest("."+e)&&(this.Rh(b)==this.Sn?this.pf(a):this.Rh(b)==this.Tn&&this.Pl(a)))))},
Um:function(){return a.Q.Ne()},HGa:function(){return this.Um()&&a.Sa.en().os!=a.Sa.xl.R6},sW:function(c){return a.Q.Zs(c)},qx:function(a){return[this.element.attr("id"),a].join(":")},On:function(a){return g(a).closest("."+this.Dg())},wfa:function(a){return a.hasClass("oj-clickthrough-disabled")},Vg:function(a,b){for(var d=a;0<d.length;){if(this.wfa(d)){if(b)return d;break}if(d.hasClass(this.Dg()))return d;d=d.parent()}return null},$Ba:function(){null==this.noa&&(this.noa=parseInt(this.Xg().css("border-top-width"),
10)+parseInt(this.Xg().css("border-bottom-width"),10));return this.noa},scrollToItem:function(a){a=a.key;null!=a&&(a=this.Se(a),null!=a&&(g(a).hasClass(this.eg())?this.c0(a):(a=g(a).children("."+this.dg()).first(),this.b0(a.get(0)))))},c0:function(a){var b,d,e,f,h,k,l=0;b=a.offsetTop;d=a.offsetHeight;a=this.Xg()[0];e=a.scrollTop;f=a.offsetHeight;null!=this.Hh&&(h=parseInt(this.Hh.style.top,10),k=g(this.Hh).outerHeight(),b<=h&&h<b+d?l=(d+b-h)/2:b>=h&&b<h+k&&(l=(h+k-b)/2));b>=e&&b+d<=e+f?0<l&&(a.scrollTop=
e-l):(b=Math.max(0,Math.min(b-l,Math.abs(b+d-f))),b>e&&(b+=this.$Ba()),a.scrollTop=b)},og:function(a){return this.Mf.og(a)},Se:function(a){var b;return null!=this.Yq&&(b=this.Yq[a],null!=b)?document.getElementById(b):this.Mf.Se(a)},Wz:function(a){return this.Fh()?a==this.Cl||a==this.ql||a==this.Ze||a==this.Tf:a==this.Cl||a==this.ql},ds:function(){var a,b,d;null==this.rD&&(a=this.Zy(),b="."+this.Dg()+":visible",this.rD=this.element.find(b).filter(function(){return(d=g(this).parent().hasClass(a))?!g(this).parent().parent().hasClass("oj-collapsed"):
!0}));return this.rD},uEa:function(a){var b=a.get(0).nextElementSibling;null!=b&&g(b).hasClass(this.Dg())||this.Mf.tl()&&a.parent().hasClass(this.fh())&&null!=a.parent().parent().get(0).nextElementSibling||(a=this.$p(),a.scrollTop<a.scrollHeight&&(a.scrollTop=a.scrollHeight))},zw:function(a,b,d){var e,f;if(!this.Mf.Xz())return!0;e=!b||this.iR?this.V.elem:this.Pe;f=!1;switch(a){case this.Cl:if(this.Fh()&&g(e).hasClass(this.eg()))break;this.$da(e,b,d);f=!0;break;case this.ql:if(this.Fh()&&g(e).hasClass(this.eg()))break;
this.Yda(e,b,d);f=!0;break;case this.Ze:case this.Tf:this.Fh()&&("rtl"==this.ea.rd()&&(a=a==this.Ze?this.Tf:this.Ze),a==this.Ze?this.$da(e,b,d):this.Yda(e,b,d),f=!0)}return f},Yda:function(a,b,d){var e,f;e=this.ds();a=e.index(a);a++;if(a<e.length){for(f=g(e[a]);this.vj(f);){a++;if(a==e.length)return;f=g(e[a])}b?(this.WW(f,d),this.iR=!1):(this.om(f,d),this.iR=!0,this.uEa(f))}},$da:function(a,b,d){var e,f;e=this.ds();a=e.index(a);a--;if(0<=a){for(f=g(e[a]);this.vj(f);){a--;if(0>a)return;f=g(e[a])}b?
(this.WW(f,d),this.iR=!1):(this.om(f,d),this.iR=!0)}},vfa:function(){return"actionable"==this.Ioa},Jia:function(a){this.Ioa=a?"actionable":"navigation";a||this.element[0].focus()},sUa:function(){return this.uw},Kf:function(a){var b;return a.hasClass(this.kn())?this.hA()&&"row"==a.attr("role")?(b=a.children(".oj-listview-cell-element").first(),0==b.length?a.children().first():b):a:g(a.find("."+this.kn()).first())},kK:function(){this.element.attr("tabIndex",0)},cT:function(){this.element.removeAttr("tabIndex")},
u0:function(a){this.Kf(a).attr("tabIndex",0)},lia:function(a){var b;b=!0;"presentation"===a.attr("role")&&(b=!1);a=this.Kf(a);b?a.removeAttr("tabIndex"):a.attr("tabIndex",-1)},QZ:function(a,b){this.uw===this.uw?(null!=a&&this.lia(a),this.u0(b),this.cT()):this.usa(b)},tQ:function(a){var b;b=a.children("a, input, select, textarea, button");return 1===b.length&&0===b.first().find("a, input, select, textarea, button").length?b.first():a},Yc:function(a,b,d){var e,f,g;null!=a?(e=a[0],e=this.og(e),null==
this.V||e!=this.V.key?(f={key:e,item:a},null!=this.V&&(f.previousKey=this.V.key,f.previousItem=this.V.elem,null!=this.Nf&&this.Um()&&this.Nf.uka(f.previousItem)),g=!this.Bl("beforeCurrentItem",b,f),g||(this.V=g={key:e,elem:a},null!=this.Nf&&this.Um()&&this.Nf.Sia(a),void 0!==d&&d||(this.QZ(f.previousItem,a),this.Vz()),this.uj("currentItem",e,{_context:{originalEvent:b,kb:!0,Wk:{item:a}},changed:!0}))):e==this.V.key&&(this.V=g={key:e,elem:a},void 0!==d&&d||this.QZ(null,a))):this.V=null},LF:function(a){this.uw==
this.uw&&this.Kf(a).focus()},Vz:function(){var a;null!=this.V&&this.Xg().hasClass("oj-focus-ancestor")&&(a=this.V.elem,this.RN(a,"oj-focus"))},nE:function(){null!=this.V&&this.Es(this.V.elem,"oj-focus")},J5:function(a,b){var d=null!=this.V?this.V.elem.get(0):null;null==d||g(d).hasClass(this.eg())||(d=d.firstElementChild);null!=b&&null!=d&&d!=b.target&&d.contains(b.target)||this.om(a,b,this.hA()?b.target!=a.get(0):!0)},om:function(a,b,d){this.c0(a[0]);this.nE();this.Yc(a,b);this.Vz();void 0!==d&&d||
this.LF(a)},Pc:function(){return"none"!=this.Jd("selectionMode")},yo:function(){return"multiple"==this.Jd("selectionMode")},ul:function(a){a=this.Kf(g(a)).get(0);return a.hasAttribute("aria-selected")},FAa:function(a){var b,d,e;b=[];for(d=0;d<a.length&&(e=this.Se(a[d]),null==e||!this.ul(e)||(b.push(a[d]),this.yo()));d++);return b},TMa:function(){var a,b;null!=this.Yq&&(a=this,g.each(this.Jd("selection"),function(d,e){b=a.Se(e);null!=b&&a.Es(b,"oj-selected")}))},RN:function(a,b){this.bE(a,b,!0)},Es:function(a,
b){this.bE(a,b,!1)},bE:function(a,b,d){var e;a=g(a);"oj-selected"==b&&this.Kf(a).attr("aria-selected",d?"true":"false");e=a.children("."+this.dg());0<e.length&&(a=g(e[0]));"oj-focus"===b?d?"actionable"!=this.Ioa&&this.jB(a):this.yx(a):d?a.addClass(b):a.removeClass(b)},Hra:function(a,b){var d,e;this.c0(a[0]);d=this.sW(b);e=b.shiftKey;this.yo()?d||e?!d&&e?this.WW(a,b):this.nV(a,b):this.iE(a,b):this.iE(a,b)},hFa:function(a,b){this.yo()?this.nV(a,b):this.iE(a,b)},Ol:function(a){this.TMa();a&&this.uj("selection",
[],{_context:{originalEvent:null,kb:!0,Wk:{items:g()}},changed:!0});this.Pe=null},iE:function(a,b){this.Ol(!1);this.nV(a,b,[])},WW:function(a,b){var d;null!=this.V&&(d=this.Pe,d!=a&&(this.Es(a,"oj-focus"),this.Gba(this.V.elem,a,b)))},Gba:function(a,b,d){this.Ol(!1);this.Pe=b;this.xFa(a,b,d);this.Vz()},xFa:function(a,b,d){var e,f,h,k,l;e=[];f=[];h=this.ds();a=h.index(a);k=h.index(b);a>k?b=k:(b=a,a=k);for(;b<=a;b++)k=h[b],this.ul(k)&&(l=this.Mf.og(k),this.ZE(k,l),e.push(l),f.push(k));this.uj("selection",
e,{_context:{originalEvent:d,kb:!0,Wk:{items:g(f)}},changed:!0})},ZE:function(a,b){null==this.Yq&&(this.Yq={});this.Yq[b]=g(a).attr("id");this.RN(a,"oj-selected")},nV:function(a,b,d){var e,f;e=this.og(a[0]);void 0==d&&(d=this.Jd("selection").slice(0));f=null!=this.V?this.V.elem.get(0):null;null==f||g(f).hasClass(this.eg())||(f=f.firstElementChild);null==b||null!=f&&f!=b.target&&f.contains(b.target)||(this.nE(),this.Yc(a,b),this.Vz());f=null!=this.V?this.V.elem.get(0):null;if(null==f||f!=a.get(0))null!=
d&&0==d.length&&this.uj("selection",d,{_context:{originalEvent:b,kb:!0,Wk:{items:g([])}},changed:!0});else{f=d.indexOf(e);-1<f?(this.Es(a,"oj-selected"),d.splice(f,1)):(this.Pe=a,this.ZE(a,e),d.push(e));a=Array(d.length);for(e=0;e<d.length;e++)a[e]=this.Se(d[e]);this.uj("selection",d,{_context:{originalEvent:b,kb:!0,Wk:{items:g(a)}},changed:!0})}},mK:function(a,b,d){var e,f,h,k;e=this.Jd("selection").slice(0);f=this.V.elem;h=this.V.key;k=e.indexOf(h);if(-1<k){if(d)return;this.Es(f,"oj-selected");
e.splice(k,1);0==e.length&&(this.Pe=null)}else this.ul(f[0])&&(b||(this.Ol(!1),e.length=0),this.Pe=f,this.ZE(f,h),e.push(h));b=Array(e.length);for(d=0;d<e.length;d++)b[d]=this.Se(e[d]);this.uj("selection",e,{_context:{originalEvent:a,kb:!0,Wk:{items:g(b)}},changed:!0})},AGa:function(a){return null!=a.nodeName.match(/^INPUT|SELECT|OPTION|TEXTAREA/)&&!a.readOnly},L5:function(a){var b,d,e,f=!1;if(null==this.V)return!1;b=a.keyCode;d=this.V.elem;this.vfa()?b==this.zS?(this.pu(),this.Vz(),this.LF(d),this.u0(d),
f=!0):b===this.lK&&(b=d.find("[data-first]"),d=d.find("[data-last]"),a.shiftKey?0<b.length&&0<d.length&&b!=d&&a.target==b[0]&&(d[0].focus(),f=!0):0<b.length&&0<d.length&&b!=d&&a.target==d[0]&&(b[0].focus(),f=!0)):b==this.AS?(this.FF(),b=d.find("[data-first]"),0<b.length&&(b[0].focus(),d.removeClass("oj-focus-highlight"))):b==this.hT&&this.Pc()?(d=this.sW(a),(e=a.shiftKey)&&!d&&null!=this.Pe&&this.yo()?this.Gba(this.Pe,this.V.elem,a):this.mK(a,d&&!e&&this.yo(),!1),f=!0):b==this.xS&&this.Pc()?this.mK(a,
!1,!0):this.Wz(b)?(d=this.sW(a),e=a.shiftKey,d||(f=this.zw(b,e&&this.Pc()&&this.yo(),a))):b===this.lK&&(a.shiftKey?this.Eza(d):this.Dza(d));return f},Cfa:function(a){return a&&this.Mv?-1<this.Mv.indexOf(a):!1},WO:function(a,b){var d;if(null!=a)if(null==this.Mv&&(this.Mv=[]),b)this.Mv.push(a);else for(d=this.Mv.indexOf(a);-1<d;)this.Mv.splice(d,1),d=this.Mv.indexOf(a)},Uy:function(c){var b;null==this.Kla&&(b=a.sc.Gd(this.Jma()),this.Kla=b.animation);return this.Kla[c]},gD:function(){return"none"!=
this.Jd("drillMode")},EB:function(){var a=this.Jd("expanded");if("auto"===a){if(!this.gD())return!0}else if("all"===a)return!0;return!1},p2:function(a,b,d,e,f){var h=this.Se(a);null!=h&&this.tw(g(h),null,f,a,b,e,d)},pf:function(a){var b=this.On(a.target);null!=b&&0<b.length&&this.tw(b,a,!0,null,!0,!0,!0)},tw:function(a,b,d,e,f,g,k){var l;if(this.Rh(a)==this.Sn&&(null==e&&(e=this.og(a[0])),!d||!this.Cfa(e))){l={item:a,key:e};if(k&&(k=!this.Bl("beforeExpand",b,l))&&f)return;this.ac();d&&this.WO(e,!0);
this.Mf.Tz(a,function(a){this.uAa(a,d,b,l,g)}.bind(this));this.rD=null;null!=b&&b.stopPropagation();null!=this.Mp&&(a=this.Mp.indexOf(e),-1!=a&&this.Mp.splice(a,1));this.Rb()}},uAa:function(a,b,d,e,f){var h,k,l,m=this;this.ac();a.key=e.key;b=this.pS(g(a),b,d);a=a.parentNode;a=g(a);this.Gw(a,this.Tn);h=this.So();k=this.Us();l=this.dg();a.children("."+l).find("."+h).removeClass(h).addClass(k);f&&b.then(function(){m.Bl("expand",d,e)});b.then(function(){m.Rb()})},I9:function(a,b){var d;a.parentsUntil("ul.oj-component-initnode",
"ul."+this.fh()).each(function(){d=parseInt(g(this).css("maxHeight"),10);0<d&&g(this).css("maxHeight",d+b+"px")})},pS:function(a,b){var d=0,e,f,h=this,k;e=new Promise(function(a){f=a});b?(this.ac(),a.children().each(function(){d+=g(this).outerHeight(!0)}),this.Um()&&this.I9(a,d),a.css("maxHeight",d+"px"),this.ac(),k=a.get(0),k=this.Hw(k,"expand"),k.then(function(){h.MDa(a,f)}),this.Rb()):(this.Um()?(a.children().each(function(){d+=g(this).outerHeight(!0)}),a.css("maxHeight",d+"px"),this.I9(a,d)):
a.css("maxHeight",""),this.qS(a),f(null));return e},MDa:function(a,b){this.Um()||a.css("maxHeight","");this.qS(a);b(null);this.Rb()},qS:function(a){a.removeClass(this.Zy()).addClass(this.OC());this.WO(a[0].key,!1)},mla:function(a,b,d,e){var f=this.Se(a);null!=f&&this.Ct(g(f),null,e,a,b,d)},Pl:function(a){var b=this.On(a.target);null!=b&&0<b.length&&this.Ct(b,a,!0,null,!0,!0)},Ct:function(a,b,d,e,f,g){var k,l,m=this;this.Rh(a)==this.Tn&&(null==e&&(e=this.og(a[0])),d&&this.Cfa(e)||(k={item:a,key:e},
l=!this.Bl("beforeCollapse",b,k),l&&f||(this.ac(),d&&this.WO(e,!0),l=this.nS(a,e,d,b),this.Gw(a,this.Sn),d=this.So(),f=this.Us(),a.find("."+f).first().removeClass(f).addClass(d),this.rD=null,null!=b&&b.stopPropagation(),g&&l.then(function(){m.Bl("collapse",b,k)}),void 0==this.Mp&&(this.Mp=[]),-1==this.Mp.indexOf(e)&&this.Mp.push(e),l.then(function(){m.Rb()}))))},nS:function(a,b,d){var e=0,f,h,k,l=this;h=new Promise(function(a){k=a});f=a.children("ul").first();f[0].key=b;d?(this.ac(),f.children().each(function(){e+=
g(this).outerHeight()}),f.css("maxHeight",e+"px"),a=this.Uy("collapse"),a.persist="all",this.ac(),b=f.get(0),a=this.Hw(b,"collapse",a),a.then(function(){l.sDa(f,k)}),this.Rb()):(f.css("maxHeight","0px"),this.oS(f),k(null));return h},sDa:function(a,b){this.oS(a);b(null);this.Rb()},oS:function(a){a.removeClass(this.OC()).addClass(this.Zy());null!=this.Mf&&this.Mf.Rz(a);this.WO(a[0].key,!1)},Yxa:function(){var a;this.ac();a=this;this.ds().each(function(){a.Ct(g(this),null,!1,null,!1,!1)});this.Rb()},
getExpanded:function(){var a,b,d;a=[];b=this;this.ds().each(function(){d=g(this);b.Rh(d)==b.Tn&&a.push(b.og(d[0]))});return a},md:function(){return a.Components.md(this.element)},B5:function(){return this.HGa()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},JS:function(){return"oj-listview-element"},eg:function(){return"oj-listview-item"},kn:function(){return"oj-listview-focused-element"},Dg:function(){return"oj-listview-item-element"},dg:function(a){return a&&this.fO()&&
this.gO()?"oj-listview-group-item oj-sticky":"oj-listview-group-item"},fh:function(){return"oj-listview-group"},OC:function(){return"oj-listview-collapsible-transition"},Zy:function(){return this.OC()},So:function(){return"oj-listview-collapse-icon"},Us:function(){return"oj-listview-expand-icon"},fWa:function(){return"oj-listview-no-data-message"},G2:function(){return""},Jma:function(){return"oj-listview-option-defaults"},gO:function(){return this.Um()&&a.Sa.en().os===a.Sa.xl.WJ},GIa:function(a,b){var d=
b.originalEvent.wheelDelta;isNaN(d)||(0>d?a.scrollTop+a.clientHeight+Math.abs(d)>=a.scrollHeight&&(a.scrollTop=a.scrollHeight,b.preventDefault()):0>=a.scrollTop-d&&(a.scrollTop=0,b.preventDefault()))},rN:function(){var a=this.$p();return a==document.body||a==document.documentElement?window:a},Mha:function(){var a=this,b;b=g(this.rN());this.ea._off(b,"scroll mousewheel");this.ea._on(b,{scroll:function(b){a.H0||a.uj("scrollTop",a.$p().scrollTop,{_context:{originalEvent:b,kb:!0}});a.H0=!1;a.fO()&&!a.gO()&&
a.xea()}});"loadMoreOnScroll"==this.options.scrollPolicy&&this.ea._on(b,{mousewheel:function(b){a.GIa(a.$p(),b)}})},fO:function(){return"static"!=this.Jd("groupHeaderPosition")},XF:function(){var a;null==this.S3&&(a="."+this.dg()+":visible",this.S3=this.element.find(a).filter(function(){return!g(this).parent().hasClass("oj-collapsed")&&0<g(this).next().children().length?!0:!1}));return this.S3},p1:function(a){g(a).removeClass("oj-pinned");a.style.top="auto";a.style.width="auto"},hda:function(a){var b;
b=this.XF();a=b.index(a);return-1<a&&a<b.length-1?b[a+1]:null},sIa:function(a,b){var d,e,f;d=a.offsetWidth;e=a.offsetHeight;f=this.hda(a);null!=f&&f.offsetTop<=b+e+5&&(b-=e);g(a).addClass("oj-pinned");a.style.top=b+"px";a.style.width=d+"px"},xea:function(){var a,b,d,e,f,g,k,l;a=this.$p().scrollTop;if(null!=this.Hh&&0==a)this.p1(this.Hh),this.Hh=null;else{d=this.XF();e=0;null!=this.Hh&&(e=this.Hh.offsetHeight);for(f=0;f<d.length;f++)if(g=d[f],this.Hh!=g&&(k=d[f].offsetTop,l=k+g.parentNode.offsetHeight,
k<a&&l>a+e)){b=g;break}null!=b&&b!=this.Hh?(null!=this.Hh&&this.p1(this.Hh),this.sIa(b,a),this.Hh=b):null!=this.Hh&&(b=this.hda(this.Hh),this.Hh.style.top=null!=b&&b.offsetTop<=a+e?b.offsetTop-e+"px":a+"px")}},$p:function(){var a;a=this.Jd("scrollPolicyOptions");return null!=a&&(a=a.scroller,null!=a)?a:this.Xg().get(0)},b0:function(a){var b,d,e;b=this.$p();d=b.scrollTop;null!=this.Hh&&(this.p1(this.Hh),this.Hh=null);e=a.offsetTop;this.fO()&&this.gO()&&e<d&&(e=Math.max(0,e-a.parentNode.offsetHeight+
a.offsetHeight));b.scrollTop=e;this.fO()&&!this.gO()&&d==b.scrollTop&&this.xea();this.fLa(a)},fLa:function(a){var b=this,d;g(a).next().children().each(function(){d=g(this);if(!b.vj(d))return b.uj("currentItem",this.key),!1})}});o_("_ojListView",a.h_,a);a.ab("oj.ojListView",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{currentItem:null,data:null,dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:"auto",groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,
selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},scrollTop:0,selection:[],selectionMode:"none",animateStart:null,animateEnd:null,beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,optionChange:null,paste:null,ready:null,reorder:null},_ComponentCreate:function(){this._super();this.hb()},hb:function(){var c={};c.element=this.element;c.Xd=this.Xd;c.ea=this;c=g.extend(this.options,c);this.Ja=new a.h_;this.Ja.mn(c)},
Mg:function(){this._super();var a=this;this.Ja.Dr=function(b){return a.Dr(b)};this.Ja.zC()},_destroy:function(){this.Ja.destroy();this._super()},bi:function(a,b,d){this.Ja.hpa(a,b,d)},_setOptions:function(a,b){var d=this.Ja.UR(a,b);this._super(a,b);d&&this.Ja.refresh()},_setOption:function(a,b,d){var e=!0;"selectionMode"==a?e="none"==b||"single"==b||"multiple"==b:"drillMode"==a?e="collapsible"==b||"none"==b:"scrollPolicy"==a?e="auto"==b||"loadMoreOnScroll"==b:"groupHeaderPosition"==a&&(e="static"==
b||"sticky"==b);if(e)"selection"==a&&(d={_context:{Wk:{items:g(this.Ja.HPa(b))}}}),this._super(a,b,d);else throw"Invalid value: "+b+" for key: "+a;},$n:function(){this.Ja.CR()},pk:function(){this.Ja.ipa()},Ap:function(){this.Ja.zD()},widget:function(){return this.Ja.Pj()},refresh:function(){this._super();this.Ja.refresh()},whenReady:function(){return this.Ja.whenReady()},getNodeBySubId:function(a){return this.Ja.getNodeBySubId(a)},getSubIdByNode:function(a){return this.Ja.getSubIdByNode(a)},getContextByNode:function(a){return this.Ja.getContextByNode(a)},
getDataForVisibleItem:function(a){return this.Ja.getDataForVisibleItem(a)},expand:function(a,b){this.Ja.p2(a,b,!0,!0)},collapse:function(a,b){this.Ja.mla(a,b,!0)},getExpanded:function(){return this.Ja.getExpanded()},getIndexerModel:function(){null==this.Tna&&a.ik&&(this.Tna=new a.ik(this.Ja));return this.Tna},scrollToItem:function(a){this.Ja.scrollToItem(a)}});(function(){var c=/^\[.*\]/;a.U.ob("oj-list-view","baseComponent",{properties:{currentItem:{type:"string"},data:{},dnd:{type:"object",properties:{drag:{type:"object",
properties:{items:{type:"object",properties:{dataTypes:{type:"Array\x3cstring\x3e"},drag:{},dragEnd:{},dragStart:{}}}}},drop:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array\x3cstring\x3e"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}}}},reorder:{type:"object",properties:{items:{type:"string",enumValues:["disabled","enabled"]}}}}},drillMode:{type:"string",enumValues:["collapsible","none"]},expanded:{type:"Array\x3cstring\x3e|string"},groupHeaderPosition:{type:"string",
enumValues:["sticky","static"]},item:{type:"object",properties:{focusable:{},renderer:{},selectable:{}}},scrollPolicy:{type:"string"},scrollPolicyOptions:{type:"object",properties:{fetchSize:{type:"number"},maxCount:{type:"number"},scroller:{}}},selection:{type:"Array\x3cstring\x3e",writeback:!0},selectionMode:{type:"string",enumValues:["none","single","multiple"]}},events:{animateEnd:{},animateStart:{},beforeCollapse:{},beforeCurrentItem:{},beforeExpand:{},collapse:{},copy:{},cut:{},expand:{},paste:{},
reorder:{}},methods:{collapse:{},expand:{},getContextByNode:{},getDataForVisibleItem:{},getExpanded:{},getIndexerModel:{},getNodeBySubId:{},getSubIdByNode:{},refresh:{},scrollToItem:{}},extension:{Ng:"ul",mb:"ojListView"}});a.U.register("oj-list-view",{metadata:a.U.getMetadata("oj-list-view"),parseFunction:function(a,d,e,f){return"expanded"==d?c.test(a)?JSON.parse(a):a:f(a)}})})()});