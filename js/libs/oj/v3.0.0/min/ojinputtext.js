/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(a,g){a.ab("oj.inputBase",g.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_WIDGET_CLASS_NAMES:"",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_GET_INIT_OPTIONS_PROPS:[{ra:"disabled",Qe:!0},{ra:"pattern"},{ra:"placeholder"},{ra:"value"},{ra:"readonly",option:"readOnly",Qe:!0},{ra:"required",Ui:!0,Qe:!0},{ra:"title"}],_INPUT_HELPER_KEY:"",xT:"blur",XT:"keydown",YT:"keyup",RT:"input",LT:"drop",options:{converter:void 0,
placeholder:void 0,rawValue:void 0,readOnly:!1,required:!1,validators:void 0},HE:function(a){var b=this._superApply(arguments);this.JIa();return b},Og:function(c,b){this._super(c,b);a.oa.Sq(this._GET_INIT_OPTIONS_PROPS,b,this)},_ComponentCreate:function(){var a=this._superApply(arguments),b=this.options.readOnly;this.hi="rtl"===this.rd();"boolean"===typeof b&&this.element.prop("readonly",b);this.vE()?(this.wNa(),this.x7()&&this.VU(),this._focusable({element:this.Rk,applyHighlight:!0})):this._focusable({element:this.element,
applyHighlight:!0});this.wW={};this.nf=null;return a},Mg:function(){var a=this._superApply(arguments),b=this;this.re(this.options.required);this._CLASS_NAMES&&this.element.addClass(this._CLASS_NAMES);this.Z9();this.wT();g.each(["disabled","readOnly"],function(a,c){b.options[c]&&b.nha(c,b.options[c])});return a},ai:function(){return this.options.required},Vf:a.oa.Vf,Yh:a.oa.Yh,zr:a.oa.zr,Zw:a.oa.Zw,rc:a.oa.rc,wp:a.oa.wp,nha:function(a,b){"disabled"===a&&this.element.prop("disabled",b);"readOnly"===
a&&(this.element.prop("readonly",b),this.IO("readOnly",b));"disabled"!==a&&"readOnly"!==a||this.Z9()},_setOption:function(c,b,d){var e=this._superApply(arguments);"disabled"!==c&&"readOnly"!==c||this.nha(c,b);"pattern"===c&&(this.wW[a.Af.VALIDATOR_TYPE_REGEXP]=this.Lca(),this.Yh());return e},yr:function(c,b,d){this._superApply(arguments);switch(c){case "readOnly":this.kA(c,a.oa.tJ);break;case "required":this.Vf(c);break;case "validators":this.Yh(c);break;case "converter":this.zr(c)}},_destroy:function(){var c=
this._superApply(arguments);this.element.off("blur drop keydown keyup input");this.vZ&&this.vZ.remove();this.vE()&&(this.x7()?a.Q.unwrap(this.element,this.Rk):a.Q.unwrap(this.element));return c},Z9:function(){if(!this.options.readOnly&&!this.options.disabled){this.nf={};var a=g.proxy(this.j_,this),b=g.proxy(this.xO,this),d=g.proxy(this.bIa,this),e=g.proxy(this.aIa,this),f=function(){this.focus()};this.element.on(this.xT,a);this.element.on(this.XT,b);this.element.on(this.YT,d);this.element.on(this.RT,
e);this.element.on(this.LT,f);this.nf[this.xT]=a;this.nf[this.XT]=b;this.nf[this.YT]=d;this.nf[this.RT]=e;this.nf[this.LT]=f}else if(this.nf)for(a=[this.xT,this.XT,this.YT,this.RT,this.LT],b=0,d=a.length;b<d;b++)this.nf[a[b]]&&(this.element.off(a[b],this.nf[a[b]]),delete this.nf[a[b]])},Ut:{readOnly:"oj-read-only"},JIa:function(){for(var a=this._ATTR_CHECK,b=0,d=a.length;b<d;b++){var e=a[b].attr;"setMandatory"in a[b]&&this.element.attr(e,a[b].setMandatory)}},j_:function(a){this.bc(this.Zh(),a)},xO:function(){},
bIa:function(a){a.keyCode===g.ui.keyCode.ENTER&&this.bc(this.Zh(),a)},aIa:function(a){this.Ml(this.Xf().val(),a)},vE:function(){return this._WIDGET_CLASS_NAMES},x7:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES},wNa:function(){this.Xd?(this.Rk=g(this.Xd).addClass(this._WIDGET_CLASS_NAMES),this.Rk.append(this.element)):(g(this.element).wrap(g("\x3cdiv\x3e").addClass(this._WIDGET_CLASS_NAMES)),this.Rk=this.element.parent())},VU:function(){return g(this.element).wrap(g("\x3cdiv\x3e").addClass(this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES)).parent()},
wT:function(){if(this._INPUT_HELPER_KEY&&this.vE()){var a=this.element.attr("aria-describedby")||"",b=this.Bm(this._INPUT_HELPER_KEY);this.element.attr("aria-describedby",a+(" "+b));this.vZ=g("\x3cdiv class\x3d'oj-helper-hidden-accessible' aria-hidden\x3d'true' id\x3d'"+b+"'\x3e"+this.Wf(this.R(this._INPUT_HELPER_KEY))+"\x3c/div\x3e");this.X6().append(this.vZ)}},Wf:function(a){return g("\x3cspan\x3e"+a+"\x3c/span\x3e").text()},X6:function(){return this.widget()},wE:function(){var c=this._superApply(arguments);
this.options.pattern&&(this.wW[a.Af.VALIDATOR_TYPE_REGEXP]=this.Lca());return g.extend(this.wW,c)},sp:function(){return this._super()?this.options.readOnly?!1:!0:!1},IO:function(a,b){-1!=Object.keys(this.Ut).indexOf(a)&&this.widget().toggleClass(this.Ut[a],!!b)},Lca:function(){if(!this.options.pattern)return null;var c={pattern:this.options.pattern,label:this.RX()};g.extend(c,this.options.translations.regexp||{});return a.La.Lz(a.Af.VALIDATOR_TYPE_REGEXP).createValidator(c)},Bm:function(a){return this.uuid+
"_"+a},JUa:function(){return this.hi},refresh:function(){var a=this._superApply(arguments);this.hi="rtl"===this.rd();this.re(this.options.required);return a},re:a.oa.re,getNodeBySubId:function(a){return this._super(a)},validate:a.oa.validate,Kw:function(){return!1},widget:function(){return this.vE()?this.Rk:this.element}},!0);a.ab("oj.ojInputPassword",g.oj.inputBase,{version:"1.0.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"password"}],_CLASS_NAMES:"oj-inputpassword-input",
_WIDGET_CLASS_NAMES:"oj-inputpassword oj-form-control oj-component",options:{pattern:""},getNodeBySubId:function(a){var b=this._superApply(arguments),d;b||(d=a.subId,"oj-inputpassword-input"===d&&(b=this.element?this.element[0]:null));return b||null},_GetDefaultStyleClass:function(){return"oj-inputpassword"}});a.ab("oj.ojTextArea",g.oj.inputBase,{version:"1.0.0",defaultElement:"\x3ctextarea\x3e",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"oj-textarea-input",_WIDGET_CLASS_NAMES:"oj-textarea oj-form-control oj-component",
options:{pattern:""},getNodeBySubId:function(a){var b=this._superApply(arguments),d;b||(d=a.subId,"oj-textarea-input"===d&&(b=this.element?this.element[0]:null));return b||null},_GetDefaultStyleClass:function(){return"oj-textarea"},GK:function(){return"oj-inputBase"}});a.ab("oj.ojInputText",g.oj.inputBase,{version:"1.0.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_CLASS_NAMES:"oj-inputtext-input",_WIDGET_CLASS_NAMES:"oj-inputtext oj-form-control oj-component",
options:{pattern:""},getNodeBySubId:function(a){var b=this._superApply(arguments),d;b||(d=a.subId,"oj-inputtext-input"===d&&(b=this.element?this.element[0]:null));return b||null},_GetDefaultStyleClass:function(){return"oj-inputtext"},GK:function(){return"oj-inputBase"}});a.U.ob("inputBase","editableValue",{properties:{converter:{type:"Object"},placeholder:{type:"string"},rawValue:{type:"string",readOnly:!0,writeback:!0},readonly:{type:"boolean"},required:{type:"boolean"},validators:{type:"Array"}},
methods:{refresh:{},widget:{},validate:{}},extension:{Ng:"input",mb:"inputBase"}});a.U.ob("oj-input-password","inputBase",{properties:{value:{type:"string",writeback:!0}},methods:{},events:{create:{},destroy:{}},extension:{Mt:{readonly:"readOnly"},Ng:"input",mb:"ojInputPassword",cx:["aria-label","autocomplete","autofocus","inputmode","name"]}});a.U.register("oj-input-password",{metadata:a.U.getMetadata("oj-input-password")});a.U.ob("oj-input-text","inputBase",{properties:{value:{type:"string",writeback:!0}},
methods:{},events:{create:{},destroy:{}},extension:{Mt:{readonly:"readOnly"},Ng:"input",mb:"ojInputText",cx:"aria-label autocomplete autofocus inputmode list name spellcheck".split(" ")}});a.U.register("oj-input-text",{metadata:a.U.getMetadata("oj-input-text")});a.U.ob("oj-text-area","inputBase",{properties:{value:{type:"string",writeback:!0}},methods:{},events:{create:{},destroy:{}},extension:{Mt:{readonly:"readOnly"},Ng:"textarea",mb:"ojTextArea",cx:"aria-label autocomplete autofocus inputmode name spellcheck rows".split(" ")}});
a.U.register("oj-text-area",{metadata:a.U.getMetadata("oj-text-area")})});