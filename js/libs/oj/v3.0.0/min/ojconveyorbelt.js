/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(a,g){function c(a,c,e,f,g,k,l,m){this.Nd=a;this.kIa=c;this.UA=e;this.KL=f;g&&(g.xSa&&(this.DIa=g.xSa),g.gSa&&(this.THa=g.gSa),g.ypa&&(this.EIa=g.ypa),g.fpa&&(this.UHa=g.fpa),g.xpa&&(this.CIa=g.xpa),g.epa&&(this.SHa=g.epa));k&&(k.Xpa&&(this.Aia=k.Xpa),k.nPa&&(this.kX=k.nPa),k.hOa&&(this.kx=k.hOa),k.bm&&(this.BL=k.bm),k.Gn&&(this.MO=k.Gn),k.eI&&(this.Bi=k.eI),k.wJ&&(this.bh=k.wJ),k.Gna&&(this.IN=k.Gna),k.Wla&&(this.ZW=k.Wla),k.ig&&(this.mC=
k.ig),k.hf&&(this.lC=k.hf));l&&(l.ppa&&(this.bha=l.ppa),l.ula&&(this.oaa=l.ula),l.eoa&&(this.Zx=l.eoa),l.Jna&&(this.zB=l.Jna));this.IL=!0;this.iB=0;m&&(this.Q9=m.browserVersion);a=navigator.userAgent.toLowerCase();if(-1!==a.indexOf("gecko/"))this.Swa=!0;else if(-1!==a.indexOf("opera"))this.Twa=!0;else if(m&&"safari"===m.browser)this.b$=!0;else if(-1!==a.indexOf("applewebkit")||-1!==a.indexOf("safari"))this.Uwa=!0}c.prototype.vt=function(a){var d=this;if(a){this.Iya();this.Uya(this.DIa,this.EIa,this.CIa);
this.Lya(this.THa,this.UHa,this.SHa);var e=this.Hk;this.q$=e.offsetWidth;this.p$=e.offsetHeight;this.PN();this.NN();this.OG=function(a){d.KEa(a)};c.Ai(this.Nd,"mousewheel",this.OG);c.Ai(this.Nd,"wheel",this.OG);this.X0=function(a){d.gZ(a)};c.Ai(this.$g,"touchstart",this.X0);this.W0=function(a){d.fZ(a)};c.Ai(this.$g,"touchmove",this.W0);this.TH=function(a){d.dZ(a)};c.Ai(this.$g,"touchend",this.TH);c.Ai(this.$g,"touchcancel",this.TH);this.m_=0}else this.Nha();this.XV();this.L9(a);this.Ji(!0);a&&(this.BL&&
(this.Dk=function(){d.Ji(!1)},this.BL.call(this.kx,this.Nd,this.Dk),this.BL.call(this.kx,this.Ql,this.Dk)),this.lC&&this.lC(this.Ql))};c.prototype.destroy=function(){var a=this.Nd;c.yg(a,"mousewheel",this.OG);c.yg(a,"wheel",this.OG);c.yg(this.$g,"touchstart",this.X0);c.yg(this.$g,"touchmove",this.W0);c.yg(this.$g,"touchend",this.TH);c.yg(this.$g,"touchcancel",this.TH);c.yg(this.$g,"scroll",this.$_);this.$_=this.TH=this.W0=this.X0=this.OG=null;this.MO&&this.Dk&&(this.MO.call(this.kx,a,this.Dk),this.MO.call(this.kx,
this.Ql,this.Dk));this.Dk=null;this.fKa(this.Ql,a);a.removeChild(this.$g);a.removeChild(this.Hk);a.removeChild(this.be);this.Ql=this.$g=this.be=this.Hk=null;this.XV();this.UA=this.kx=this.lC=this.mC=this.ZW=this.IN=this.bh=this.Bi=this.MO=this.BL=this.kX=this.Aia=this.Nd=null};c.prototype.CI=function(){this.Ji(!1)};c.prototype.BTa=function(a){this.wy(a,!0)};c.prototype.VPa=function(){return this.Bj()};c.prototype.gKa=function(a,c){for(var e=a.childNodes;0<e.length;){var f=e[0];this.mC&&this.mC(f);
c.appendChild(f);1===f.nodeType&&this.Zx&&this.Bi(f,this.Zx)}};c.prototype.fKa=function(a,c){if(a)for(var e=a.childNodes;0<e.length;){var f=e[0];c.appendChild(f);1===f.nodeType&&this.Zx&&this.bh(f,this.Zx)}};c.RF=function(a){var c=a.ownerDocument.defaultView,e=null;return e=c?c.getComputedStyle(a,null):a.currentStyle};c.CBa=function(a){a=c.RF(a);return c.Aj(a.width)};c.BBa=function(a){a=c.RF(a);return c.Aj(a.height)};c.Aj=function(a){return 0<a.length&&"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),
a):0};c.Ai=function(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent&&a.attachEvent("on"+c,e)};c.yg=function(a,c,e){a.removeEventListener?a.removeEventListener(c,e,!1):a.detachEvent&&a.detachEvent("on"+c,e)};c.ZCa=function(a){var c=0;return c=null!=a.wheelDelta?a.wheelDelta:null!=a.deltaY?-a.deltaY:-a.detail};c.YUa=function(){var a=document.createElement("div");a.style.display="table";return a};c.ZUa=function(){var a=document.createElement("div");a.style.display="table-row";return a};
c.XUa=function(){var a=document.createElement("div");a.style.display="table-cell";return a};c.PVa=function(a,c,e,f){var g=document.createElement("div"),k=g.style;k.display="inline-block";g.appendChild(a);c.appendChild(g);e&&(k.maxWidth=g.offsetWidth+"px");f&&(k.maxHeight=g.offsetHeight+"px");return g};c.prototype.ae=function(){return"horizontal"===this.kIa};c.prototype.uGa=function(){return!this.pca().hasChildNodes()};c.prototype.Nha=function(){this.m_=this.Bj();this.q0(0);this.PN();this.NN()};c.prototype.XV=
function(){this.gP=this.zg=null};c.prototype.Ji=function(a){a||this.Nha();this.XV();this.zg&&this.gP||(this.zg=this.Aga());a||this.L9(!1);this.wwa()};c.prototype.wwa=function(){var a=this.Hk.style,c=this.be.style,e=this.Ql,f=this.zg;this.ae()?(e=.5*(f.$k-e.offsetHeight),a.top=e+"px",c.top=e+"px"):(e=.5*(f.ij-e.offsetWidth),this.KL&&(e=-e),a.left=e+"px",c.left=e+"px")};c.prototype.L9=function(a){var d=this.Ql,e=this.ae(),f=e?c.CBa(this.Nd):c.BBa(this.Nd);this.MG=0;this.JG=e?d.offsetWidth-f+this.q$:
d.offsetHeight-f+this.p$;0>this.JG&&(this.JG=0);this.PN();this.NN();this.wy(a?this.MG:this.m_,!0);this.m_=0};c.prototype.Iya=function(){var a=this,d=this.Nd,e=document.createElement("div");this.$g=e;this.bha&&this.Bi(e,this.bha);var f=document.createElement("div");this.Ql=f;this.oaa&&this.Bi(f,this.oaa);this.gKa(d,f);d.appendChild(e);e.appendChild(f);this.$_=function(){a.WEa()};c.Ai(e,"scroll",this.$_)};c.prototype.oBa=function(){for(var a=[],c=this.UA?this.UA:this.Ql,e=c.children,f=e.length,g=0;g<
f;g++){var k=e[g];1===k.nodeType&&a.push(k)}this.ZW&&(g=this.ZW,a=g(a));if(c===this.Ql&&this.Zx)for(g=0;g<a.length;g++)c=a[g],this.IN(c,this.Zx)||this.Bi(c,this.Zx);return a};c.prototype.Uya=function(a,d,e){var f=this,g=document.createElement("div");this.be=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Ai(g,"click",function(){f.Cia()});e&&g.appendChild(e);this.Nd.insertBefore(g,this.$g)};c.prototype.Lya=function(a,d,e){var f=this,g=document.createElement("div");
this.Hk=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Ai(g,"click",function(){f.Bia()});e&&g.appendChild(e);this.Nd.appendChild(g)};c.prototype.pca=function(){var a=this.UA;a||(a=this.Ql);return a};c.prototype.Aga=function(){var a=this.pca(),c=this.oBa(),e={ij:0,$k:0},f=[];if(a.hasChildNodes()&&c&&0<c.length)for(var a=this.ae(),g=0,g=this.Ql.offsetWidth,k=0,l=null,m=0;m<c.length;m++){var p=c[m];if(1===p.nodeType){var t=p.offsetWidth,r=p.offsetHeight,
n={ij:t,$k:r,id:p.id};if(a){var s=p.offsetLeft;this.UA||0!==s||(p=p.parentNode,s=p.offsetLeft);n.start=this.KL?g-(s+t):s;0===m&&(k=n.start);n.start-=k;e.ij=n.start+t;e.$k=Math.max(e.$k,r);n.end=e.ij-1}else s=p.offsetTop,this.UA||0!==s||(p=p.parentNode,s=p.offsetTop),n.start=s,e.ij=Math.max(e.ij,t),e.$k=n.start+r,n.end=e.$k-1;l&&l.end>=n.start&&(t=l.end-(n.start-1),l.end-=t,a?l.ij-=t:l.$k-=t);f.push(n);l=n}}this.gP=f;return e};c.prototype.xB=function(){if(!this.gP){var a=this.Aga();this.zg||(this.zg=
a)}return this.gP};c.prototype.bMa=function(){this.bh(this.Hk,this.zB)};c.prototype.cMa=function(){this.bh(this.be,this.zB)};c.prototype.NN=function(){this.Bi(this.Hk,this.zB)};c.prototype.PN=function(){this.Bi(this.be,this.zB)};c.prototype.HB=function(){return!this.IN(this.Hk,this.zB)};c.prototype.AG=function(){return!this.IN(this.be,this.zB)};c.prototype.sX=function(){return this.ae()?this.q$:this.p$};c.prototype.bNa=function(a){var c=this.sX(),e=this.Bj(),f=this.vO();a<=this.MG?(this.AG()&&(e-=
c),this.PN()):f&&(this.AG()||(e+=c),this.cMa());a>=this.JG?(this.HB(),this.NN()):f&&(this.HB(),this.bMa());this.q0(e)};c.prototype.q0=function(a){var c=this.$g;this.ae()?c.scrollLeft=this.iW(a):c.scrollTop=a};c.prototype.UF=function(){var a=this.$g;return this.ae()?a.offsetWidth:a.offsetHeight};c.prototype.wy=function(a,c){this.au||(this.IL=!1,this.Oia(a,c))};c.prototype.Oia=function(a,d){if(!this.uGa()){this.au=!0;a=this.iya(a);this.bNa(a);var e=this.Aia;if(d||!e||a===this.Bj())this.Uga(this.IL?
this.Bj():a);else{var f=this;e.call(this.kx,this.$g,this.iW(a),Math.abs(this.Bj()-a)/c.Pua,function(){f.Uga(a)})}}};c.prototype.Bj=function(){var a=this.$g;return this.ae()?this.pya(a.scrollLeft):a.scrollTop};c.prototype.vO=function(){var a=this.Ql,c=this.$g;return this.ae()?a.offsetWidth>c.offsetWidth:a.offsetHeight>c.offsetHeight};c.prototype.iya=function(a){!this.vO()||a<this.MG?a=this.MG:a>this.JG&&(a=this.JG);return a};c.prototype.KEa=function(a){var d=this.au;if(this.vO()&&!this.au){var e=c.ZCa(a);
0>e&&this.HB()?(d=!0,this.Bia()):0<e&&this.AG()&&(d=!0,this.Cia())}d&&(a.preventDefault(),a.stopPropagation())};c.prototype.gZ=function(a){a=a.touches;this.vO()&&!this.au&&1===a.length&&(this.Km=!0,a=a[0],this.lP=this.ae()?a.pageX:a.pageY,this.Y0=this.Bj(),this.KMa=this.y$(),this.LMa=this.z$(),this.nka=this.HB(),this.oka=this.AG())};c.prototype.fZ=function(a){var d=this.ae(),e=a.touches[0],e=(d?e.pageX:e.pageY)-this.lP,f=d&&this.KL?0<e:0>e,g=f&&this.nka||!f&&this.oka;if(this.Km&&g){g=this.$g;if(Math.abs(e)<
c.fva*(d?g.offsetWidth:g.offsetHeight)){if(this.wy(this.Y0-e,!0),this.nka&&!this.HB()||this.oka&&!this.AG())this.Km=!1}else this.wy(f?this.KMa:this.LMa,!1),this.Km=!1;this.vy=!0}this.vy&&(a.preventDefault(),a.stopPropagation())};c.prototype.dZ=function(){this.Km&&this.wy(this.Y0,!1);this.vy=this.Km=!1};c.prototype.WEa=function(){this.IL&&!this.au&&this.Oia(this.Bj(),!0)};c.prototype.Uga=function(a){this.q0(a);this.IL=!0;this.au=!1;if(this.kX){this.iB=this.w$();a=this.x$();var c=this.xB(),e=c[this.iB];
this.iB!==a&&this.Bj()>e.start&&this.iB<c.length-2&&(this.iB++,e=c[this.iB]);this.KAa=e.id;this.kX.call(this.kx,this.KAa)}};c.prototype.Bia=function(){this.au||this.wy(this.y$(),!1)};c.prototype.Cia=function(){this.au||this.wy(this.z$(),!1)};c.prototype.y$=function(){var a=this.nxa(),c=0;return c=a===this.w$()?this.Bj()+this.UF():this.pxa(a)};c.prototype.z$=function(){var a=this.oxa(),c=0,c=a===this.x$()?this.Bj()-this.UF():this.mxa(a);this.HB()||(c+=this.sX());c<this.sX()&&(c=this.MG);return c};
c.prototype.pxa=function(a){return this.xB()[a].start};c.prototype.mxa=function(a){return this.xB()[a].end-this.UF()+1};c.prototype.w$=function(){var a=this.RL(this.Bj());return 0>a?0:a};c.prototype.x$=function(){var a=this.RL(this.Bj()+this.UF()-1),c=this.xB();return 0>a?c.length-1:a};c.prototype.oxa=function(){var a=this.RL(this.Bj()-1);return 0>a?0:a};c.prototype.nxa=function(){var a=this.RL(this.Bj()+this.UF()),c=this.xB();return 0>a?c.length-1:a};c.prototype.RL=function(a){for(var c=this.xB(),
e=0;e<c.length;e++)if(a<=c[e].end)return e;return-1};c.prototype.iW=function(a){var c=a;if(this.KL&&this.ae())if(this.Swa||this.b$&&10<=this.Q9)c=-a;else if(this.Uwa||this.Twa||this.b$&&10>this.Q9)c=this.Ql.offsetWidth-this.$g.offsetWidth-a;return c};c.prototype.pya=function(a){return this.iW(a)};c.Pua=1.1;c.fva=.33;(function(){a.ab("oj.ojConveyorBelt",g.oj.baseComponent,{defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{orientation:"horizontal",contentParent:null},_ComponentCreate:function(){this._super();
this.element.addClass("oj-conveyorbelt oj-component");this.options.disabled&&a.F.warn(b);this.hb(!0)},refresh:function(){this._super();var a="rtl"===this.rd(),a=this.Di!=a,b;a||(b=this.du.VPa());this.DW();this.hb(!0);a||this.du.BTa(b)},Ap:function(){this._super();this.rf?this.hb(this.rf[0]):this.du&&this.du.CI()},$n:function(){this._super();this.rf&&this.hb(this.rf[0])},hb:function(b){var e=this,f=this.element,h=this.options,k=h.orientation;"vertical"===k?f.addClass("oj-conveyorbelt-vertical"):f.removeClass("oj-conveyorbelt-vertical");
if(this.hF()){this.rf=null;this.Di="rtl"===this.rd();if(b&&!this.du){var l=null,m=null,p=null,t=null,r=null;"vertical"!==k?(l="oj-enabled oj-conveyorbelt-overflow-indicator oj-start oj-default",m="oj-enabled oj-conveyorbelt-overflow-indicator oj-end oj-default",p=this.fM("oj-conveyorbelt-overflow-icon oj-start"),t=this.fM("oj-conveyorbelt-overflow-icon oj-end"),r=this.Awa):(l="oj-enabled oj-conveyorbelt-overflow-indicator oj-top oj-default",m="oj-enabled oj-conveyorbelt-overflow-indicator oj-bottom oj-default",
p=this.fM("oj-conveyorbelt-overflow-icon oj-top"),t=this.fM("oj-conveyorbelt-overflow-icon oj-bottom"),r=this.Bwa);var n={};n.ypa=l;n.fpa=m;n.xpa=p;n.epa=t;l={};l.bm=a.Q.bm;l.Gn=a.Q.Gn;l.eI=this.jwa;l.wJ=this.QJa;l.Gna=this.jZ;l.Wla=function(a){return e.EAa(a)};l.ig=a.Components.ig;l.hf=a.Components.hf;"enabled"!==a.qa.D2()&&(l.Xpa=r);r=null;h.contentParent&&(r=g(h.contentParent)[0]);h=a.Sa.en(navigator.userAgent);this.du=new c(f[0],k,r,this.Di,n,l,{ppa:"oj-conveyorbelt-overflow-container",ula:"oj-conveyorbelt-content-container",
eoa:"oj-conveyorbelt-item",Jna:"oj-helper-hidden"},h)}this.du.vt(b);if(b)for(b=f.find(".oj-conveyorbelt-overflow-indicator"),f=0;f<b.length;f++)this.PLa(g(b[f]))}else f=!1,this.rf&&(f=this.rf[0]),this.rf=[b||f]},_destroy:function(){this.DW();this.element.removeClass("oj-conveyorbelt oj-component oj-conveyorbelt-vertical");this._super()},_setOption:function(c,e,f){var g=!1,k=this.options;switch(c){case "containerParent":case "orientation":g=k.orientation!=e;break;case "disabled":a.F.warn(b)}g&&this.DW();
this._super(c,e,f);g&&this.hb(!0)},DW:function(){var a=this.du;a&&(this.element.find(".oj-conveyorbelt-overflow-indicator").off(this.eventNamespace),a.destroy());this.du=null},hF:function(){var a=document.createElement("div"),b=a.style;b.width="10px";b.height="10px";b["-webkit-flex"]="0 0 auto";b.flex="0 0 auto";b=this.element[0];b.appendChild(a);var c=!1;try{c=0<a.offsetWidth&&0<a.offsetHeight}catch(g){}b.removeChild(a);return c},PLa:function(a){this.Uf({element:a,afterToggle:function(b){"mouseenter"===
b?a.removeClass("oj-default"):"mouseleave"===b&&a.addClass("oj-default")}});this.nk({element:a,afterToggle:function(b){"mousedown"===b||"touchstart"===b||"mouseenter"===b?a.removeClass("oj-default"):"mouseup"!==b&&"touchend"!==b&&"touchcancel"!==b&&"mouseleave"!==b||a.addClass("oj-default")}})},fM:function(a){var b=document.createElement("span");b.setAttribute("class","oj-component-icon "+a);return b},Awa:function(a,b,c,h){var k={};k.scrollLeft=b;g(a).animate(k,c,"swing",h)},Bwa:function(a,b,c,h){var k=
{};k.scrollTop=b;g(a).animate(k,c,"swing",h)},jwa:function(a,b){g(a).addClass(b)},QJa:function(a,b){g(a).removeClass(b)},jZ:function(a,b){return g(a).hasClass(b)},EAa:function(a){for(var b=[],c=0;c<a.length;c++){var g=a[c];this.jZ(g,"oj-helper-detect-expansion")||this.jZ(g,"oj-helper-detect-contraction")||b.push(g)}return b},getNodeBySubId:function(a){if(null==a)return this.element?this.element[0]:null;a=a.subId;return"oj-conveyorbelt-start-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-start")[0]:
"oj-conveyorbelt-end-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-end")[0]:"oj-conveyorbelt-top-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-top")[0]:"oj-conveyorbelt-bottom-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-bottom")[0]:null},getSubIdByNode:function(a){for(var b=this.getNodeBySubId({subId:"oj-conveyorbelt-start-overflow-indicator"}),c=this.getNodeBySubId({subId:"oj-conveyorbelt-end-overflow-indicator"}),
g=this.getNodeBySubId({subId:"oj-conveyorbelt-top-overflow-indicator"}),k=this.getNodeBySubId({subId:"oj-conveyorbelt-bottom-overflow-indicator"}),l=this.element[0];a&&a!=l;){if(a===b)return{subId:"oj-conveyorbelt-start-overflow-indicator"};if(a===c)return{subId:"oj-conveyorbelt-end-overflow-indicator"};if(a===g)return{subId:"oj-conveyorbelt-top-overflow-indicator"};if(a===k)return{subId:"oj-conveyorbelt-bottom-overflow-indicator"};a=a.parentElement}return null}});var b="JET ConveyorBelt: 'disabled' option not supported"})();
a.U.ob("oj-conveyor-belt","baseComponent",{properties:{contentParent:{type:"string"},orientation:{type:"string",enumValues:["horizontal","vertical"]}},extension:{mb:"ojConveyorBelt"}});a.U.register("oj-conveyor-belt",{metadata:a.U.getMetadata("oj-conveyor-belt")})});