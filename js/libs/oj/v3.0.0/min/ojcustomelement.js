/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","promise","customElements"],function(a){a.ia={};a.ia.hr={PPa:function(){return this.FS().xI()},Nma:function(g){var c=Object.create(HTMLElement.prototype);this.M5(c);g=this.$D(g);a.ia.BM(c,g,"properties",this.wS.bind(this));a.ia.BM(c,g,"methods",this.vS.bind(this));this.jS(c);c.createdCallback=a.ia.hza;c.attachedCallback=a.ia.Mwa;c.attributeChangedCallback=a.ia.Owa;c.detachedCallback=a.ia.Aza;return c},kSa:function(a,c){this.OS(a,c)},lSa:function(a){this.I5(a);this.QJ().Cz()},
mSa:function(g){var c=a.Context.getContext(g).Mj().Jj({description:g.tagName+" identified by '"+g.id+"' is being upgraded."});this.QJ().xI().then(function(){g.classList.add("oj-complete");c()})},jS:function(){},vS:function(){},wS:function(){},FS:function(){this.Yaa||(this.Yaa=new a.ia.sL);return this.Yaa},QJ:function(){this.Zaa||(this.Zaa=new a.ia.sL);return this.Zaa},$D:function(){return{}},Uz:function(a){return a},NS:function(){},H5:function(){},OS:function(){},I5:function(){},PS:function(){},QS:function(){},
M5:function(){}};a.ia.jc=function(g){var c=g[a.ia.N7];if(!c){c=a.ia.oH[g.tagName.toLowerCase()];if(!c)throw"Attempt to interact with the custom element before it has been registered";c=Object.create(c.VNa);Object.defineProperty(g,a.ia.N7,{value:c})}return c};a.ia.Dv=function(g){return g?void 0!==a.ia.oH[g.toLowerCase()]:!1};a.ia.UC=function(a){return a.Dw&&a.Dw.properties};a.ia.Mwa=function(){a.ia.jc(this).NS(this)};a.ia.Owa=function(g,c,b){var d=a.ia.jc(this),e=a.kd.IP(g),f=a.ia.PE(e,a.ia.UC(d));
f&&!f.readOnly&&(a.ia.n9(this,g),this.dispatchEvent(new CustomEvent("attribute-changed",{detail:{attribute:g,value:b,previousValue:c}})),a.kd.tI(b).expr||this.setProperty(e,a.ia.q9(e,b,f,d.bK)));d.H5(this,g,c,b)};a.ia.hza=function(){a.ia.jc(this).PS(this)};a.ia.Aza=function(){a.ia.jc(this).QS(this)};a.ia.BM=function(a,c,b,d){if(c&&c[b]){var e=c[b];Object.keys(e).forEach(function(b){d(a,b,e[b])})}};a.ia.OE=function(a,c,b,d){if("string"==typeof b&&d&&(d=d.enumValues)&&-1===d.indexOf(b))throw"Invalid value found for "+
a.tagName+"."+c+". Found: "+b+". Expected: "+d.toString();};a.ia.WU=function(g){return g?a.ia.oH[g.toLowerCase()].YOa:null};a.ia.n9=function(a,c){var b=c.split(".");if(1<b.length)for(b.pop();b.length;){var d=b.join(".");if(a.hasAttribute(d))throw"Cannot set overlapping attributes "+c+" and "+d;b.pop()}};a.ia.PE=function(a,c){for(var b=c,d=a.split("."),e=0;e<d.length;e++)if(b=b[d[e]],1<d.length&&e<d.length-1&&(b=b.properties,!b))return null;return b};a.ia.p9=function(g,c,b,d){for(var e=g.attributes,
f=a.ia.jc(g),h=0;h<e.length;h++){var k=e[h],l=a.kd.IP(k.nodeName),m=a.ia.PE(l,b);m&&!m.readOnly&&(a.ia.n9(g,k.nodeName),a.kd.tI(k.nodeValue).expr||(k=a.ia.q9(l,k.nodeValue,m,d),a.ia.OE(g,l,k,m),a.ia.uL(f.Uz.bind(f),c,l,k)))}};a.ia.uL=function(a,c,b,d){b=b.split(".");for(var e=0;e<b.length;e++){var f=a(b[e]);if(e===b.length-1){c[f]=d;break}else c[f]||(c[f]={});c=c[f]}};a.ia.o9=function(a,c){for(var b=a,d=c.split("."),e=0;e<d.length;e++){var f=d[e];if(e===d.length-1)return b[f];if(!b[f])return null;
b=b[f]}};a.ia.q9=function(g,c,b,d){if(null==c)return c;var e=b.type;return d?d(c,g,b,function(b){return a.kd.lla(g,b,e)}):a.kd.lla(g,c,e)};a.ia.r9=function(g,c){g=a.Bc.we({},g,void 0,!0,1);g.properties=g.properties||{};a.ia.BM(null,g,"properties",function(b,d){g.properties[a.kd.Tla(a.kd.Apa(d))]={BW:!0,DM:!0}});a.ia.BM(null,g,"events",function(b,d){g.properties[a.kd.Tla(c?a.kd.Sla(d):d)]={BW:!0,DM:!0}});return g};a.ia.s9=function(g,c,b){var d=g.toLowerCase();if(!a.ia.oH[d]){if(!c)throw"Error registering "+
g+": missing a descriptor.";a.ia.oH[d]={YOa:c,VNa:b};return!0}return!1};a.ia.oH={};a.ia.N7="_ojBridge";a.ia.sL=function(){var a,c;this.xI=function(){a||(a=new Promise(function(a){c=a}));return a};this.Cz=function(b){c?(c(b),c=null):a=Promise.resolve(b)}}});