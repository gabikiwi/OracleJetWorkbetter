/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojeditablevalue","ojs/ojradiocheckbox"],function(a,g){(function(){a.ab("oj.ojCheckboxset",g.oj.editableValue,{version:"1.0.0",defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{disabled:!1,required:!1,value:void 0},refresh:function(){this._super();this.hb()},widget:function(){return this.cUa},validate:a.oa.validate,Og:function(b,c){var e=[],f;this._super(b,c);a.oa.Sq([{ra:"disabled",Qe:!0},{ra:"title"},{ra:"placeholder"},{ra:"required",Ui:!0,Qe:!0}],c,
this);this.Ig=this.$W();void 0===c.value?(f=this.Ig.filter(":checked"),0<f.length&&(f.each(function(){e.push(g(this).val())}),this.option("value",e,{_context:{xd:!0,kb:!0}})),void 0===this.options.value&&(this.options.value=[])):this.kaa(this.options.value)},_ComponentCreate:function(){this._super();if(this.element.is("fieldset"))throw Error("ojCheckboxset cannot be bound to a fieldset. Use a div instead.");this.Ig._ojRadioCheckbox().attr("data-oj-internal","");this.cUa=this.element.addClass("oj-checkboxset oj-component").attr("role",
"group").wrapInner("\x3cdiv class\x3d'oj-checkboxset-wrapper'\x3e\x3c/div\x3e");this._on(this.$r);this.hb()},xU:function(){this.Ig=this.$W();this.Ig.filter(".oj-checkbox").each(function(){var a=void 0!==g(this).attr("disabled")?!!g(this).prop("disabled"):!1;g(this)._ojRadioCheckbox("option","disabled",a)});this.Ig.not(".oj-checkbox")._ojRadioCheckbox()},Focus:function(){this.Xf().first().focus();return!0},AU:function(){},ai:function(){return this.options.required},re:a.oa.re,$W:function(){var b;b=
this.element.find("input[type\x3dcheckbox]:first");0===b.length&&a.F.warn("Could not find any input type\x3dcheckbox within this element");b=b.attr("name");return void 0===b?(b=this.element.find("input[type\x3dcheckbox]"),b.not("[name]")):this.element.find("input[type\x3dcheckbox][name\x3d"+b+"]")},bi:function(a,c,e){a=this.element.find("input[type\x3dcheckbox]:tabbable").first();this.di(c,e,{launcher:a})},_GetMessagingLauncherElement:function(){return this.widget()},hb:function(){this.Wu(this.options.disabled);
null!==this.Ig&&(1===this.Ig.length?this.element.addClass("oj-checkboxset-single"):this.element.removeClass("oj-checkboxset-single"));this.element.hasClass("oj-choice-direction-column")||this.element.hasClass("oj-choice-direction-row")||this.element.addClass("oj-choice-direction-column");this.re(this.options.required)},$r:{change:function(a){this.IK(a)}},kaa:function(a){if(!Array.isArray(a))throw Error("Invalid 'value' set on JET Checkboxset: "+a+".It must be an Array. ");},IK:function(a){var d;d=
this.Ig;0<d.length&&d.each(function(){this===a.target&&g(this)._ojRadioCheckbox("setSelectedClass",a.target.checked)});d=this.Zh();this.bc(d,a,c)},Zh:function(){return this.Pt()},rk:function(a){var c,e,f=this.Ig.length,h;this.kaa(a);if(null===a||void 0===a||0===a.length)this.Ig._ojRadioCheckbox("option","checked",!1);else for(e=0;e<f;e++){h=g(this.Ig[e]);c=h[0].value;c=a.indexOf(c);var k=h._ojRadioCheckbox("option","checked");-1!==c?k||h._ojRadioCheckbox("option","checked",!0):k&&h._ojRadioCheckbox("option",
"checked",!1)}},Pt:function(){var a=[],c=this.Ig.filter(":checked");if(0===c.length)return[];c.each(function(){a.push(g(this).val())});return a},_GetDefaultStyleClass:function(){return"oj-checkboxset"},Xf:function(){if(null!=this.Ig)return this.Ig;this.$W()},Kw:function(){return!0},Vf:a.oa.Vf,Wu:function(a){a=!!a;this.Ig.each(function(){g(this).data("oj-_ojRadioCheckbox").RE(a)});this.Ig._ojRadioCheckbox("refreshDisabled")},_setOption:function(a,c,e){this._super(a,c,e);"disabled"===a&&this.Wu(c)},
yr:function(a,c,e){this._superApply(arguments);switch(a){case "required":this.Vf(a)}},getNodeBySubId:function(a){var c=this._super(a);return c||(a=a.subId,"oj-checkboxset-inputs"!==a)?c||null:this.Ig.get()},_destroy:function(){var a=this._super(),c=this.element[0].firstChild;this.Ig&&this.Ig._ojRadioCheckbox("destroy");g(c).contents().unwrap();return a}});var c={tv:!1}})();a.U.ob("oj-checkboxset","editableValue",{properties:{disabled:{type:"boolean"},required:{type:"boolean"},value:{type:"Array"}},
methods:{destroy:{},refresh:{},widget:{},validate:{}},extension:{mb:"ojCheckboxset"}});a.U.register("oj-checkboxset",{metadata:a.U.getMetadata("oj-checkboxset")})});